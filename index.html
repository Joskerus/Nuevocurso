<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√°gina Web: R y RStudio en Salud P√∫blica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #EBE6E0; /* Light Gray/Off-white */
            color: #071E2D; /* Dark Blue */
            scroll-behavior: smooth; /* Smooth scrolling for navigation */
            padding-top: 5rem; /* Space for fixed header */
        }
        .section-padding {
            padding: 4rem 1rem; /* Consistent padding for all sections */
        }
        .detective-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.06);
            border-top: 5px solid #106BA0; /* Medium Blue */
            margin-bottom: 2rem; /* Spacing between cards */
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 90%;
            max-height: 450px;
        }
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #071E2D; /* Dark Blue */
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        .fixed-header nav a {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .fixed-header nav a:hover {
            background-color: #106BA0; /* Medium Blue */
            color: white;
        }
        /* Specific styles for slides within containers */
        .slide-container .slide {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .slide-container .slide.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .nav-button {
            background-color: #106BA0; /* Medium Blue */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }
        .nav-button:hover {
            background-color: #AEC800; /* Lime Green */
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            background-color: #888888; /* Gray */
            cursor: not-allowed;
            transform: translateY(0);
        }
        .nav-buttons-group {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem; /* Space between buttons */
            width: 100%;
            max-width: xl;
            margin: 0 auto;
        }
        /* Style for feedback icons */
        .feedback-icon {
            display: inline-block;
            width: 1.2em; /* Give it some width */
            text-align: center; /* Center the icon */
            vertical-align: middle; /* Align with text */
        }
        /* Dropdown styles */
        .group:hover .group-hover\:block {
            display: block;
        }
        .iframe-container {
            width: 100%;
            height: 500px; /* Adjust height as needed */
            border: 1px solid #ccc;
            border-radius: 0.75rem;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Styles for images and modal */
        .content-image {
            max-width: 10cm; /* Set max width to 10cm */
            max-height: 10cm; /* Set max height to 10cm */
            width: auto; /* Allow image to scale down if smaller than 10cm */
            height: auto; /* Allow image to scale down if smaller than 10cm */
            display: block; /* Ensure it takes its own line for margin auto to work */
            margin: 0 auto; /* Center the image */
            object-fit: contain; /* Maintain aspect ratio within the box */
            cursor: zoom-in; /* Indicate clickable for zoom */
            transition: transform 0.2s ease-in-out; /* Smooth transition for visual feedback */
            border-radius: 0.75rem; /* Apply rounded corners as per overall theme */
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); /* Subtle shadow */
        }

        /* Modal overlay for expanded images */
        .image-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Dark semi-transparent background */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000; /* High z-index to be on top */
            visibility: hidden; /* Hidden by default */
            opacity: 0; /* Fully transparent by default */
            transition: visibility 0s, opacity 0.3s ease-in-out; /* Smooth fade-in/out */
        }

        .image-modal-overlay.active {
            visibility: visible;
            opacity: 1;
        }

        .image-modal-content {
            position: relative;
            max-width: 90vw; /* Max width of the expanded image */
            max-height: 90vh; /* Max height of the expanded image */
            padding: 1rem;
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 15px 25px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-modal-img {
            max-width: 100%;
            max-height: 100%;
            display: block;
            object-fit: contain; /* Ensure the image fits within the modal content */
            border-radius: 0.5rem;
        }

        .close-modal-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 2rem;
            color: #ccc;
            cursor: pointer;
            transition: color 0.2s ease;
            z-index: 2001; /* Ensure close button is on top */
        }

        .close-modal-btn:hover {
            color: #fff;
        }
    </style>
</head>
<body>

    <!-- Fixed Header Navigation -->
    <header class="fixed-header">
        <div class="container mx-auto flex flex-wrap justify-center gap-4 text-sm md:text-base">
            <a href="#bienvenida">Bienvenida</a>
            <a href="#tema1">Tema 1</a>
            <a href="#tema2">Tema 2</a>
            <a href="#tema3">Tema 3</a>
            <a href="#tema4">Tema 4</a>
            <a href="#tema5">Tema 5</a>
            <a href="#tema6">Tema 6</a>
            <a href="#tema7">Tema 7</a>
            <a href="#tema8">Tema 8</a>
            <a href="#tema9">Tema 9</a>
            <a href="#reto">Reto</a>
            <a href="#despedida">Despedida</a>
            <!-- New dropdown for resources -->
            <div class="relative group">
                <button class="text-white hover:bg-[#106BA0] px-3 py-2 rounded-md transition-colors duration-200">
                    Recursos <i class="fas fa-chevron-down text-xs ml-1"></i>
                </button>
                <div class="absolute hidden group-hover:block bg-[#071E2D] text-white rounded-md shadow-lg min-w-[150px] z-20">
                    <a href="#evaluacion" class="block px-4 py-2 hover:bg-[#106BA0] rounded-t-md">Evaluaci√≥n</a>
                    <a href="#bibliografia" class="block px-4 py-2 hover:bg-[#106BA0] rounded-b-md">Bibliograf√≠a</a>
                </div>
            </div>
        </div>
    </header>

    <main class="w-full max-w-6xl mx-auto">
        
        <!-- Secci√≥n de Bienvenida (con slides internas) -->
        <section id="bienvenida" class="section-padding">
            <div id="bienvenida-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 0: Portada -->
                <div class="slide active">
                    <div class="text-center p-8 mb-12">
                        <h1 class="text-4xl md:text-6xl font-black text-[#071E2D] mb-4">üïµÔ∏è‚Äç‚ôÇÔ∏è El Misterio de los Datos en Salud</h1>
                        <p class="text-xl text-[#10BED2] max-w-3xl mx-auto">Una investigaci√≥n guiada por los detectives Sof√≠a y Mateo para aprender a usar <span class="font-bold">R</span> y <span class="font-bold">RStudio</span>.</p>
                        <div class="flex flex-col md:flex-row justify-center items-center gap-8 mt-8">
                            <img src="imagenes/sofia.png" onerror="this.onerror=null;this.src='https://placehold.co/256x256/EBE6E0/071E2D?text=Sofia';" alt="[Imagen de Sof√≠a, la detective]" class="content-image">
                            <img src="imagenes/mateo.png" onerror="this.onerror=null;this.src='https://placehold.co/256x256/EBE6E0/071E2D?text=Mateo';" alt="[Imagen de Mateo, el detective]" class="content-image">
                        </div>
                        <p class="mt-6 text-lg">¬øListo para unirte a nuestro equipo de detectives, detective?</p>
                    </div>
                </div>

                <!-- Slide 1: Pista #1 - Las Herramientas -->
                <div class="slide">
                    <div class="detective-card grid md:grid-cols-2 gap-8 items-center mb-12">
                        <div class="text-center md:text-left">
                            <h2 class="text-3xl font-bold mb-4">üîé Pista #1: Las Herramientas del Oficio</h2>
                            <p class="mb-6">Soy Mateo. Todo buen detective necesita su kit, ¬øverdad, detective? En nuestro caso, no son lupas, sino software potente. Estas son nuestras tres herramientas clave para interrogar a los datos hasta que confiesen la verdad.</p>
                            <div class="space-y-4">
                                    <div class="p-4 bg-gray-100 rounded-lg"><strong class="text-[#F04A4C]">R:</strong> El cerebro de la operaci√≥n. Un lenguaje para an√°lisis estad√≠stico.</div>
                                    <div class="p-4 bg-gray-100 rounded-lg"><strong class="text-[#DEFF00]">RStudio:</strong> Nuestro cuartel general. La interfaz que organiza todo.</div>
                                    <div class="p-4 bg-gray-100 rounded-lg"><strong class="text-[#AEC800]">Tidyverse:</b> El kit de ganz√∫as. Simplifica la manipulaci√≥n de datos.</div>
                            </div>
                        </div>
                        <img src="imagenes/mateo1.png" onerror="this.onerror=null;this.src='https://placehold.co/384x384/EBE6E0/071E2D?text=Mateo+detective';" alt="[Imagen de Mateo, el detective]" class="content-image w-full max-w-sm mx-auto">
                    </div>
                </div>
                
                <!-- Slide 2: Pista #2 - El Escenario -->
                <div class="slide">
                        <div class="detective-card grid md:grid-cols-2 gap-8 items-center mb-12">
                            <img src="imagenes/sofia1.png" onerror="this.onerror=null;this.src='https://placehold.co/384x384/EBE6E0/071E2D?text=Sofia+detective';" alt="[Imagen de Sof√≠a, la detective]" class="content-image h-96 mx-auto order-last md:order-first">
                            <div class="text-center md:text-left">
                                <h2 class="text-3xl font-bold mb-2">üó∫Ô∏è Pista #2: La Escena del Crimen</h2>
                                <p class="mb-4">Aqu√≠ Sof√≠a. Los datos nos llevan a distintas escenas del crimen, ¬øest√°s listo para seguir las huellas, detective? Este gr√°fico muestra d√≥nde dejan sus huellas m√°s importantes.</p>
                                <div class="chart-container h-[400px]">
                                    <canvas id="applicationsChart"></canvas>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Observa c√≥mo el 'An√°lisis Cuantitativo' y la 'Visualizaci√≥n' son las √°reas de mayor impacto. Ah√≠ es donde encontraremos las pistas m√°s jugosas.</p>
                            </div>
                        </div>
                </div>

                <!-- Slide 3: Pista #3 - El Camino del Investigador -->
                <div class="slide">
                    <div class="detective-card text-center mb-12">
                        <h2 class="text-3xl font-bold mb-6">üë£ Pista #3: El Camino del Investigador</h2>
                        <p class="max-w-3xl mx-auto mb-8">Mateo de nuevo. Como buen detective, sabes que todo caso se resuelve con un m√©todo. Este es nuestro plan de acci√≥n para pasar de novatos a analistas competentes, un verdadero protocolo de investigaci√≥n.</p>
                            <div class="flex flex-col md:flex-row items-stretch justify-center gap-4 text-center">
                                <div class="flex-1 p-6 bg-white rounded-lg shadow-md border-l-4 border-[#F04A4C]">
                                    <div class="text-4xl mb-2">1Ô∏è‚É£</div>
                                    <h3 class="font-bold text-lg">Preparaci√≥n</h3>
                                    <p class="text-sm text-gray-600">Reunir el equipo. Instalar y cargar los paquetes necesarios para la misi√≥n.</p>
                                </div>
                                <div class="text-4xl self-center mx-4 text-[#10BED2]">‚Üí</div>
                                <div class="flex-1 p-6 bg-white rounded-lg shadow-md border-l-4 border-[#DEFF00]">
                                    <div class="text-4xl mb-2">2Ô∏è‚É£</div>
                                    <h3 class="font-bold text-lg">Exploraci√≥n</h3>
                                    <p class="text-sm text-gray-600">Reconocer el terreno. Familiarizarse con RStudio y los datos en busca de anomal√≠as.</p>
                                </div>
                                    <div class="text-4xl self-center mx-4 text-[#10BED2]">‚Üí</div>
                                <div class="flex-1 p-6 bg-white rounded-lg shadow-md border-l-4 border-[#AEC800]">
                                    <div class="text-4xl mb-2">3Ô∏è‚É£</div>
                                    <h3 class="font-bold text-lg">Aplicaci√≥n</h3>
                                    <p class="text-sm text-gray-600">Resolver el caso. Usar `tidyverse` para analizar y visualizar las pistas encontradas.</p>
                                </div>
                            </div>
                    </div>
                </div>

                <!-- Slide 4: Pista #4 - Las Habilidades -->
                <div class="slide">
                        <div class="detective-card grid md:grid-cols-2 gap-8 items-center mb-12">
                            <div class="text-center md:text-left">
                                <h2 class="text-3xl font-bold mb-2">üéñÔ∏è Pista #4: El Perfil del Experto</h2>
                                <p class="mb-4">Soy Sof√≠a. Para ser un gran detective de datos, necesitar√°s un conjunto de habilidades equilibrado. Este informe revela las competencias clave que desarrollar√°s. Presta atenci√≥n a la distribuci√≥n para ser un experto en la investigaci√≥n de datos.</p>
                                <div class="chart-container h-[400px]">
                                    <canvas id="skillsChart"></canvas>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Dominar las funciones de `tidyverse` y las estructuras de R es casi el 70% del trabajo. Ah√≠ est√° la clave del √©xito en esta investigaci√≥n.</p>
                            </div>
                            <img src="imagenes/sofia.png" onerror="this.onerror=null;this.src='https://placehold.co/384x384/EBE6E0/071E2D?text=Sofia+detective';" alt="[Imagen de Sof√≠a, la detective]" class="content-image h-96 mx-auto">
                        </div>
                </div>

                <!-- Slide 5: Caso Resuelto -->
                <div class="slide">
                    <div class="text-center p-8 mb-12">
                        <h1 class="text-4xl md:text-6xl font-black text-[#071E2D] mb-4">‚úÖ Caso Resuelto (por ahora)</h1>
                        <p class="text-xl text-[#10BED2] max-w-3xl mx-auto">¬°Felicidades, detective! Has completado la introducci√≥n. Has visto las herramientas, la escena del crimen y el m√©todo de investigaci√≥n.</p>
                            <div class="flex flex-col md:flex-row justify-center items-center gap-8 mt-8">
                                <img src="imagenes/sofia1.png" onerror="this.onerror=null;this.src='https://placehold.co/256x256/EBE6E0/071E2D?text=Sofia+detective';" alt="[Imagen de Sof√≠a, la detective]" class="content-image h-64">
                                <img src="imagenes/mateo1.png" onerror="this.onerror=null;this.src='https://placehold.co/256x256/EBE6E0/071E2D?text=Mateo+detective';" alt="[Imagen de Mateo, el detective]" class="content-image h-64">
                            </div>
                        <p class="mt-6 text-lg">Este es solo el comienzo de tu carrera como detective de datos. El mundo de los datos en salud p√∫blica est√° lleno de misterios por resolver. ¬°Sigue investigando!</p>
                    </div>
                </div>

                <!-- Slide: Objetivos de aprendizaje -->
                <div class="slide">
                    <div class="detective-card text-center p-8 mb-12">
                        <h2 class="text-3xl font-bold mb-6 text-[#071E2D]">üéØ Objetivos de Aprendizaje</h2>
                        <ul class="list-disc list-inside text-left max-w-2xl mx-auto space-y-2 text-lg text-[#071E2D]">
                            <li>Identificar y utilizar R y RStudio en el an√°lisis de datos.</li>
                            <li>Familiarizarse con los distintos tipos de datos y operaciones fundamentales en R.</li>
                            <li>Comprender las estructuras esenciales de datos en R, como los vectores y tablas.</li>
                            <li>Entender el procedimiento para desarrollar funciones en R.</li>
                            <li>Reconocer c√≥mo importar, exportar y transformar bases de datos utilizando Tidyverse.</li>
                        </ul>
                        <p class="mt-6 text-lg text-[#10BED2]">¬°Prep√°rate para dominar el an√°lisis de datos en salud p√∫blica, detective!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnBienvenida" class="nav-button">Anterior</button>
                <div id="slide-counter-bienvenida" class="text-sm font-bold"></div>
                <button id="nextBtnBienvenida" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnBienvenida" href="#tema1" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 1: Introducci√≥n (con slides internas) -->
        <section id="tema1" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üí° Tema 1: Introducci√≥n</h2>
            <div id="tema1-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1.1: ¬øPor qu√© aprender R y RStudio? -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">¬øPor qu√© aprender R y RStudio, detective?</h3>
                        <p class="text-lg text-gray-700 mb-4">En los √∫ltimos a√±os, R se ha convertido en una de las herramientas m√°s utilizadas en el √°mbito acad√©mico y profesional. Su versatilidad permite realizar an√°lisis estad√≠sticos complejos, crear modelos predictivos y generar visualizaciones avanzadas de datos.</p>
                        <img src="imagenes/porqusar.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/F04A4C/FFFFFF?text=R+Power';" alt="[Imagen que representa el poder de R]" class="content-image">
                        <p class="text-lg text-gray-700 mt-4">Adem√°s, es un software de c√≥digo abierto, lo que significa que puedes utilizarlo sin costo y beneficiarte de una comunidad activa que constantemente mejora sus funciones. Una pista vital para tu investigaci√≥n.</p>
                    </div>
                </div>

                <!-- Slide 1.2: RStudio facilita la programaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">RStudio: Tu Cuartel General de Investigaci√≥n</h3>
                        <p class="text-lg text-gray-700 mb-4">Por su parte, **RStudio** facilita la programaci√≥n en R, proporcionando un entorno estructurado donde puedes escribir c√≥digo, visualizar datos y gestionar paquetes de manera intuitiva.</p>
                        <img src="imagenes/ambiente.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/DEFF00/071E2D?text=RStudio+IDE';" alt="[Imagen del entorno de desarrollo de RStudio]" class="content-image">
                        <p class="text-lg text-gray-700 mt-4">La combinaci√≥n de R y RStudio es esencial en disciplinas como epidemiolog√≠a, investigaci√≥n en salud p√∫blica y ciencia de datos. Tu base de operaciones, detective.</p>
                    </div>
                </div>

                <!-- Slide 1.3: ¬øQu√© aprender√°s en este curso? - Parte 1 -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">¬øQu√© descubrir√°s en este curso, detective?</h3>
                        <p class="text-lg text-gray-700 mb-4">A lo largo de estas unidades, adquirir√°s habilidades clave para manejar datos de manera eficiente en R y RStudio, revelando cada huella:</p>
                        <ul class="list-disc list-inside text-left max-w-2xl mx-auto space-y-2 text-lg text-[#071E2D]">
                            <li>‚úÖ Instalaci√≥n y configuraci√≥n de R y RStudio en tu equipo.</li>
                            <li>‚úÖ Uso de estructuras de datos fundamentales, como vectores, listas y data.frames.</li>
                            <li>‚úÖ Aplicaci√≥n de operaciones b√°sicas y funciones personalizadas para analizar informaci√≥n.</li>
                        </ul>
                        <img src="imagenes/rstudio.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/AEC800/071E2D?text=Habilidades+Clave+1';" alt="[Imagen del logo de RStudio]" class="content-image">
                    </div>
                </div>

                <!-- Slide 1.4: ¬øQu√© aprender√°s en este curso? - Parte 2 -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">Avances en la Investigaci√≥n: Habilidades Avanzadas</h3>
                        <p class="text-lg text-gray-700 mb-4">Continuando con los descubrimientos que dominar√°s, detective:</p>
                        <ul class="list-disc list-inside text-left max-w-2xl mx-auto space-y-2 text-lg text-[#071E2D]">
                            <li>‚úÖ Manipulaci√≥n, limpieza y transformaci√≥n de bases de datos con el paquete **Tidyverse**.</li>
                            <li>‚úÖ Creaci√≥n de gr√°ficos y visualizaciones con **ggplot2** para interpretar tendencias y patrones.</li>
                            <li>‚úÖ Automatizaci√≥n de tareas repetitivas, facilitando el procesamiento de datos.</li>
                        </ul>
                        <img src="imagenes/ambiente.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/106BA0/FFFFFF?text=Habilidades+Clave+2';" alt="[Imagen del entorno de RStudio]" class="content-image">
                    </div>
                </div>

                <!-- Slide 1.5: Aplicaciones pr√°cticas y Conclusi√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">Aplicaciones Pr√°cticas: ¬°El Campo te Espera!</h3>
                        <p class="text-lg text-gray-700 mb-4">Este curso est√° dise√±ado para brindarte habilidades aplicables en investigaci√≥n epidemiol√≥gica, salud p√∫blica y an√°lisis de datos biom√©dicos.</p>
                        <p class="text-lg text-gray-700 mb-6">Al finalizar, estar√°s capacitado para trabajar con datos reales, mejorar la presentaci√≥n de resultados y realizar an√°lisis estad√≠sticos s√≥lidos para la toma de decisiones, ¬°como un verdadero detective de datos!</p>
                        <img src="imagenes/listo.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/071E2D/FFFFFF?text=Aplicaciones+Reales';" alt="[Imagen de una persona lista para trabajar]" class="content-image">
                        <p class="text-xl font-bold mt-6 text-[#AEC800]">üöÄ Prep√°rate para sumergirte en el mundo de R y RStudio y descubrir su potencial en el an√°lisis de datos en salud. ¬°Comenzamos nuestra investigaci√≥n, detective!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema1" class="nav-button">Anterior</button>
                <div id="slide-counter-tema1" class="text-sm font-bold"></div>
                <button id="nextBtnTema1" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema1" href="#tema2" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 2: Instalaci√≥n de R y RStudio (con slides internas) -->
        <section id="tema2" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üõ†Ô∏è Tema 2: Instalaci√≥n de R y RStudio</h2>
            <p class="text-lg text-gray-700 mb-6">Para comenzar a trabajar con R y RStudio, sigue estos pasos detallados para su instalaci√≥n en tu computadora, detective.</p>

            <div id="tema2-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n a la instalaci√≥n de R -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">1Ô∏è‚É£ Instalaci√≥n de R: La Primera Evidencia</h3>
                        <p class="text-lg text-gray-700 mb-4">La instalaci√≥n de R es el primer paso para adentrarte en el an√°lisis de datos. Aseg√∫rate de seguir las instrucciones espec√≠ficas para tu sistema operativo, detective.</p>
                        <img src="imagenes/posit.png" onerror="this.onerror=null;this.src='https://placehold.co/300x200/F04A4C/FFFFFF?text=Descarga+R';" alt="[Imagen de la p√°gina web de Posit]" class="content-image">
                        <p class="text-sm text-gray-500">Haz clic en "Siguiente" para ver los pasos detallados de esta primera pista.</p>
                    </div>
                </div>

                <!-- Slide 2: Paso 1: Descargar R -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìç Paso 1: Descargar R</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Abre tu navegador de confianza.</li>
                            <li>Accede a la p√°gina oficial: üëâ <a href="https://www.r-project.org/" target="_blank" class="text-[#AEC800] hover:underline font-bold">www.r-project.org</a></li>
                            <li>Ubica "Download R" y haz clic.</li>
                            <li>Selecciona un **CRAN Mirror** (servidor de descarga) cercano a tu ubicaci√≥n.</li>
                        </ul>
                        <img src="imagenes/posit.png" onerror="this.onerror=null;this.src='https://placehold.co/300x200/DEFF00/071E2D?text=Sitio+Web+R-Project';" alt="[Imagen de la p√°gina web del proyecto R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 3: Paso 2: Elegir el sistema operativo -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìç Paso 2: Elegir el sistema operativo</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>üîπ Para **Windows**: Haz clic en ‚ÄúDownload R for Windows‚Äù y luego en ‚Äúbase‚Äù.</li>
                            <li>üîπ Para **macOS**: Selecciona ‚ÄúDownload R for macOS‚Äù.</li>
                            <li>üîπ Para **Linux**: Revisa las opciones espec√≠ficas para tu distribuci√≥n.</li>
                            <li>üí° **Recomendaci√≥n:** Descarga siempre la versi√≥n m√°s reciente.</li>
                        </ul>
                        <img src="https://placehold.co/300x200/AEC800/071E2D?text=Seleccionar+SO" alt="[Imagen de selecci√≥n de sistema operativo]" class="content-image">
                    </div>
                </div>

                <!-- Slide 4: Paso 3: Instalar R -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìç Paso 3: Instalar R</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Ejecuta el archivo descargado.</li>
                            <li>Sigue los pasos del instalador:
                                <ul class="list-circle list-inside ml-4">
                                    <li>Acepta los t√©rminos de licencia.</li>
                                    <li>Elige la carpeta de instalaci√≥n (predeterminada es buena).</li>
                                    <li>Mant√©n las opciones recomendadas.</li>
                                    <li>Haz clic en ‚ÄúInstalar‚Äù.</li>
                                </ul>
                            </li>
                            <li>Verifica que la instalaci√≥n finalice correctamente.</li>
                        </ul>
                        <img src="https://placehold.co/300x200/106BA0/FFFFFF?text=Instalador+R" alt="[Imagen del instalador de R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 5: Instalaci√≥n de RStudio - Paso 1: Descargar RStudio -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">2Ô∏è‚É£ Instalaci√≥n de RStudio: Descarga de la Herramienta Principal</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Dir√≠gete a: üëâ <a href="https://posit.co/download/rstudio-desktop/" target="_blank" class="text-[#AEC800] hover:underline font-bold">posit.co/download/rstudio-desktop/</a></li>
                            <li>Busca y haz clic en "Install RStudio".</li>
                            <li>Selecciona tu sistema operativo.</li>
                            <li>üí° **Importante, detective:** R debe estar instalado primero.</li>
                        </ul>
                        <img src="imagenes/rstudio.png" onerror="this.onerror=null;this.src='https://placehold.co/300x200/071E2D/FFFFFF?text=Sitio+Web+Posit';" alt="[Imagen del sitio web de Posit]" class="content-image">
                    </div>
                </div>

                <!-- Slide 6: Instalaci√≥n de RStudio - Paso 2: Instalar RStudio -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìç Paso 2: Instalar RStudio</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Ejecuta el archivo de instalaci√≥n de RStudio.</li>
                            <li>Acepta los t√©rminos y elige la ubicaci√≥n (puedes dejar la recomendada).</li>
                            <li>Se recomienda crear un acceso directo en el escritorio.</li>
                            <li>Haz clic en ‚ÄúInstalar‚Äù y espera a que finalice.</li>
                        </ul>
                        <img src="https://placehold.co/300x200/F04A4C/FFFFFF?text=Instalador+RStudio" alt="[Imagen del instalador de RStudio]" class="content-image">
                    </div>
                </div>

                <!-- Slide 7: Verificaci√≥n de la instalaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">3Ô∏è‚É£ Verificaci√≥n de la instalaci√≥n: Confirmando las Pistas</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Abre RStudio desde el escritorio.</li>
                            <li>En la consola, escribe: <pre class="bg-gray-100 p-2 rounded-md inline-block text-sm text-[#071E2D]"><code>2 + 2</code></pre> y presiona Enter.</li>
                            <li>Si el resultado es **4**, ¬°todo est√° listo, detective! üéâ</li>
                            <li>üí° **Consejo:** Si hay errores, verifica la instalaci√≥n de R o reinstala RStudio para asegurar que no haya huellas falsas.</li>
                        </ul>
                        <img src="imagenes/consola.png" onerror="this.onerror=null;this.src='https://placehold.co/300x200/DEFF00/071E2D?text=Consola+RStudio';" alt="[Imagen de la consola de RStudio]" class="content-image">
                    </div>
                </div>

                <!-- Slide 8: Instalar paquetes esenciales -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üì¶ Instalar paquetes esenciales: Tus Herramientas Especializadas</h3>
                        <p class="text-lg text-gray-700 mb-2">Instala `tidyverse` en la consola de RStudio, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D]"><code>install.packages("tidyverse")</code></pre>
                        <p class="text-lg text-gray-700 mb-2">Luego, act√≠valos para tu sesi√≥n:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D]"><code>library(tidyverse)
library(readxl)
library(dplyr)</code></pre>
                        <img src="imagenes/rstudio.png" onerror="this.onerror=null;this.src='https://placehold.co/300x200/AEC800/071E2D?text=Instalar+Paquetes';" alt="[Imagen del entorno de RStudio mostrando la instalaci√≥n de paquetes]" class="content-image">
                    </div>
                </div>

                <!-- Slide 9: Finalizaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">¬°Todo Listo para la Investigaci√≥n!</h3>
                        <p class="text-xl font-bold mt-6 text-[#AEC800]">üöÄ ¬°Ya tienes R y RStudio configurados y listos para el an√°lisis de datos en salud p√∫blica, detective!</p>
                        <img src="imagenes/listo.png" onerror="this.onerror=null;this.src='https://placehold.co/250x250/106BA0/FFFFFF?text=Listo+para+trabajar';" alt="[Imagen de una persona lista para trabajar]" class="content-image">
                        <p class="text-sm text-gray-500">Ahora puedes proceder al siguiente tema y seguir las huellas de los datos.</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema2" class="nav-button">Anterior</button>
                <div id="slide-counter-tema2" class="text-sm font-bold"></div>
                <button id="nextBtnTema2" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema2" href="#tema3" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 3: Ambiente de RStudio (con slides internas) -->
        <section id="tema3" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üè† Tema 3: Ambiente de RStudio: Tu Cuartel de An√°lisis</h2>
            <p class="text-lg text-gray-700 mb-6">RStudio se organiza en cuatro secciones principales, detective, cada una dise√±ada para facilitar distintos aspectos del flujo de trabajo en programaci√≥n y an√°lisis de datos. Es como tu oficina de investigaci√≥n.</p>

            <div id="tema3-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Visi√≥n general de las 4 secciones -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">Las Cuatro Secciones Principales de RStudio</h3>
                        <p class="text-lg text-gray-700 mb-6">A continuaci√≥n, describimos cada secci√≥n en detalle, como los distintos departamentos de tu agencia de detectives:</p>
                        <img src="imagenes/ambiente.png" onerror="this.onerror=null;this.src='https://placehold.co/600x400/071E2D/FFFFFF?text=RStudio+Layout+Overview';" alt="[Imagen de la interfaz de RStudio]" class="content-image w-full max-w-xl">
                        <p class="text-sm text-gray-500 mt-2">Observa la distribuci√≥n de los paneles: Editor, Entorno, Consola y Visualizador.</p>
                    </div>
                </div>

                <!-- Slide 2: Editor (secci√≥n superior izquierda) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">‚úçÔ∏è El Editor: Tu Cuaderno de Notas</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Funci√≥n principal: Este es el espacio destinado a escribir y editar c√≥digo mediante la creaci√≥n de scripts. Aqu√≠ apuntas todas tus hip√≥tesis y pasos de investigaci√≥n, detective.</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Permite redactar de forma ordenada y documentada para asegurar la reproducibilidad.</li>
                            <li>Puedes guardar tus scripts para reutilizarlos o compartirlos como informes.</li>
                            <li>La ejecuci√≥n del c√≥digo se hace con **Control+Enter** (Windows) o **Command+Enter** (Mac).</li>
                        </ul>
                        <img src="imagenes/editor.png" onerror="this.onerror=null;this.src='https://placehold.co/600x300/F04A4C/FFFFFF?text=RStudio+Editor';" alt="[Imagen del panel Editor en RStudio]" class="content-image w-full max-w-xl">
                        <p class="text-sm text-gray-500 mt-2">Recomendaci√≥n: Mant√©n tus scripts bien organizados y comenta tu c√≥digo. ¬°Las buenas notas son clave para resolver el caso!</p>
                    </div>
                </div>

                <!-- Slide 3: Entorno (secci√≥n superior derecha) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üî¨ El Entorno: Tu Sala de Pruebas</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Funci√≥n principal: Aqu√≠ se visualizan todos los objetos creados o cargados durante la sesi√≥n en R. Piensa en ella como la mesa donde organizas y revisas todas las pruebas que has recolectado, detective.</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Muestra el estado actual de tu sesi√≥n de trabajo (variables, data.frames, etc.).</li>
                            <li>Es √∫til para verificar que los datos se han importado correctamente.</li>
                        </ul>
                        <img src="imagenes/entorno.png" onerror="this.onerror=null;this.src='https://placehold.co/600x300/DEFF00/071E2D?text=RStudio+Environment';" alt="[Imagen del panel Entorno en RStudio]" class="content-image w-full max-w-xl">
                        <p class="text-sm text-gray-500 mt-2">Recomendaci√≥n: Revisa esta secci√≥n frecuentemente para gestionar tu espacio de trabajo. ¬°No querr√°s perder ninguna pista!</p>
                    </div>
                </div>

                <!-- Slide 4: Consola (secci√≥n inferior izquierda) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìû La Consola: Tu L√≠nea Directa con los Datos</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Funci√≥n principal: Es el √°rea donde se ejecuta el c√≥digo de manera inmediata. Es como tu radio de comunicaci√≥n directa para obtener respuestas r√°pidas de los datos, detective.</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Puedes escribir comandos directamente y obtener resultados instant√°neos.</li>
                            <li>Ideal para realizar pruebas r√°pidas o ejecutar funciones puntuales.</li>
                            <li>Los comandos en la consola no se guardan al cerrar la sesi√≥n.</li>
                        </ul>
                        <img src="imagenes/consola.png" onerror="this.onerror=null;this.src='https://placehold.co/600x300/AEC800/071E2D?text=RStudio+Console';" alt="[Imagen del panel Consola en RStudio]" class="content-image w-full max-w-xl">
                        <p class="text-sm text-gray-500 mt-2">Recomendaci√≥n: Para an√°lisis complejos o reproducibles, usa el editor. La consola es para interrogatorios r√°pidos.</p>
                    </div>
                </div>

                <!-- Slide 5: Visualizador (secci√≥n inferior derecha) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìã El Visualizador: Tu Tablero de Evidencias</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Funci√≥n principal: Es un panel multifuncional destinado a mostrar resultados y gestionar recursos. Aqu√≠ es donde despliegas tus gr√°ficos y revisas tus archivos del caso, detective.</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**Files:** Explora los archivos de tu directorio de trabajo, tus expedientes.</li>
                            <li>**Plots:** Muestra los gr√°ficos generados, tus mapas de patrones.</li>
                            <li>**Packages:** Lista los paquetes instalados, tus herramientas adicionales.</li>
                            <li>**Help:** Accede a la documentaci√≥n de R, tu manual del buen detective.</li>
                            <li>**Viewer:** Visualiza p√°ginas web o informes interactivos, tus informes finales.</li>
                        </ul>
                        <img src="imagenes/visualizador.png" onerror="this.onerror=null;this.src='https://placehold.co/600x300/106BA0/FFFFFF?text=RStudio+Viewer';" alt="[Imagen del panel Visualizador en RStudio]" class="content-image w-full max-w-xl">
                        <p class="text-sm text-gray-500 mt-2">Recomendaci√≥n: Utiliza esta secci√≥n para revisar tus gr√°ficos y acceder r√°pidamente a la documentaci√≥n. ¬°Cada pista cuenta!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema3" class="nav-button">Anterior</button>
                <div id="slide-counter-tema3" class="text-sm font-bold"></div>
                <button id="nextBtnTema3" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema3" href="#tema4" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 4: Configuraci√≥n de un proyecto en RStudio (con slides internas) -->
        <section id="tema4" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìÅ Tema 4: Configuraci√≥n de un Proyecto: Organizando la Escena del Crimen</h2>
            <p class="text-lg text-gray-700 mb-6">Un buen detective organiza sus pruebas. En RStudio, esto significa configurar un proyecto. ¬°Prep√°rate para la organizaci√≥n, detective!</p>

            <div id="tema4-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n a la creaci√≥n de proyectos -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">üìå Pasos para crear un Proyecto en RStudio</h3>
                        <p class="text-lg text-gray-700 mb-6">Crear un proyecto es esencial para mantener tu trabajo organizado, facilitar la colaboraci√≥n y asegurar la reproducibilidad de tus an√°lisis. Es como preparar tu kit de investigaci√≥n para un nuevo caso. ¬°Vamos a ver c√≥mo se hace!</p>
                        <img src="imagenes/directorio.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/F04A4C/FFFFFF?text=Organizar+Proyecto';" alt="[Imagen de la ventana de creaci√≥n de un nuevo proyecto en RStudio]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Sigue estos pasos para establecer un entorno de trabajo eficiente.</p>
                    </div>
                </div>

                <!-- Slide 2: Paso 1: Abrir RStudio y crear un nuevo proyecto -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">1Ô∏è‚É£ Abrir RStudio y crear un nuevo Proyecto</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>En la barra superior de RStudio, selecciona **File (Archivo) ‚Üí New Project... (Nuevo Proyecto)**.</li>
                            <li>Se abrir√° la ventana **New Project Wizard: Create Project** con diferentes opciones.</li>
                        </ul>
                        <img src="imagenes/directorio.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/DEFF00/071E2D?text=New+Project+Menu';" alt="[Imagen del men√∫ para crear un nuevo proyecto]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Este es el punto de partida para tu nuevo caso de datos, detective.</p>
                    </div>
                </div>

                <!-- Slide 3: Paso 2: Seleccionar la opci√≥n de nuevo directorio -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">2Ô∏è‚É£ Seleccionar la opci√≥n de Nuevo Directorio</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>En la pantalla del asistente, elige **New Directory (Directorio Nuevo)**.</li>
                            <li>Esta opci√≥n te permite crear una estructura de carpetas limpia y dedicada para tu proyecto desde cero. Es tu nuevo expediente en blanco.</li>
                        </ul>
                        <img src="imagenes/tipo_projecto.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/AEC800/071E2D?text=New+Directory';" alt="[Imagen de la selecci√≥n de tipo de proyecto 'New Directory']" class="content-image">
                    </div>
                </div>

                <!-- Slide 4: Paso 3: Definir el nombre y ubicaci√≥n del proyecto -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">3Ô∏è‚É£ Definir el Nombre y Ubicaci√≥n del Proyecto</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>En la ventana **Project Type**, selecciona **New Project ‚Üí Create New Project**.</li>
                            <li>En la casilla **Directory Name (Nombre del Directorio)**, introduce el nombre del proyecto (por ejemplo, "Caso_Epidemiologico").</li>
                            <li>Haz clic en **Browse...** para elegir d√≥nde quieres guardar tu proyecto, el lugar seguro para tus evidencias.</li>
                        </ul>
                        <img src="imagenes/nombre.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/106BA0/FFFFFF?text=Project+Name+Location';" alt="[Imagen de la pantalla para definir el nombre y ubicaci√≥n del proyecto]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Se recomienda una ubicaci√≥n clara y accesible para tu expediente, detective.</p>
                    </div>
                </div>

                <!-- Slide 5: Crear la estructura de carpetas y recomendaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">4Ô∏è‚É£ Crear la Estructura de Carpetas dentro del Proyecto</h3>
                        <p class="text-lg text-gray-700 mb-2">Para mantener el trabajo organizado, como un buen archivo de casos, se sugiere crear subcarpetas como:</p>
                        <ul class="list-disc list-inside text-left max-w-2xl mx-auto space-y-1 text-gray-700">
                            <li>**datos** ‚Üí Para almacenar bases de datos, archivos CSV, Excel, etc. (tus evidencias en bruto).</li>
                            <li>**scripts** ‚Üí Para guardar los c√≥digos en R que generan los an√°lisis (tus notas de investigaci√≥n).</li>
                            <li>**figuras** ‚Üí Para almacenar gr√°ficos y visualizaciones creadas en RStudio (tus representaciones visuales de las pistas).</li>
                        </ul>
                        <img src="imagenes/vista_proyecto.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/071E2D/FFFFFF?text=Folder+Structure';" alt="[Imagen de la estructura de carpetas recomendada para un proyecto de RStudio]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">üìå **Recomendaci√≥n, detective:** Mantener una estructura clara mejora la reproducibilidad de tus investigaciones. ¬°Tu proyecto est√° listo para comenzar a trabajar!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema4" class="nav-button">Anterior</button>
                <div id="slide-counter-tema4" class="text-sm font-bold"></div>
                <button id="nextBtnTema4" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema4" href="#tema5" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 5: Tipos de datos y operadores en R (con slides internas) -->
        <section id="tema5" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìù Tema 5: Tipos de Datos y Operadores: El Lenguaje Secreto de los Datos</h2>
            <p class="text-lg text-gray-700 mb-6">R es un lenguaje de programaci√≥n que permite manejar diversos tipos de datos y aplicar operadores matem√°ticos y l√≥gicos para procesarlos eficientemente. Comprender estos elementos es fundamental para estructurar y analizar informaci√≥n de manera correcta, detective.</p>

            <div id="tema5-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n y Tipos de datos en R -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">üìå Tipos de Datos en R: Clasificando la Evidencia</h3>
                        <p class="text-lg text-gray-700 mb-6">R tiene distintos formatos de datos seg√∫n la informaci√≥n que se maneja. Conocerlos es clave para manipular y analizar correctamente la evidencia, detective.</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Data+Types+Intro" alt="[Imagen introductoria a los tipos de datos]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Vamos a explorar los m√°s utilizados en tu labor de detective.</p>
                    </div>
                </div>

                <!-- Slide 2: N√∫meros decimales (double) y N√∫meros enteros (integer) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Tipos de Datos: N√∫meros</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**N√∫meros decimales (double)**: Representan valores con punto decimal, como `3.3`, `10.5`, `-2.1`. Piensa en ellos como mediciones exactas.</li>
                            <li>**N√∫meros enteros (integer)**: Son valores sin decimales, como `3`, `10`, `-5`. Como el n√∫mero de casos.</li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplo de double
x <- 3.3
class(x) # Output: "numeric" (R representa 'double' como 'numeric')

# Ejemplo de integer
y <- 3L # La 'L' indica que es un entero
class(y) # Output: "integer"</code></pre>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Numeric+Data" alt="[Imagen que ilustra datos num√©ricos en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">El tipo `numeric` es el m√°s com√∫n para n√∫meros, `integer` se usa expl√≠citamente.</p>
                    </div>
                </div>

                <!-- Slide 3: Cadenas de texto (character) y Valores l√≥gicos (logical) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Tipos de Datos: Texto y L√≥gicos</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**Cadenas de texto (character)**: Se usan para almacenar palabras o frases, por ejemplo, `"Municipio"`, `"Sexo"`, `"Nombre"`. Son como las descripciones de las huellas.</li>
                            <li>**Valores l√≥gicos o booleanos (logical)**: Indican verdadero o falso, como `TRUE` o `FALSE`. √ötiles para determinar si una pista es real o falsa.</li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplo de character
ciudad <- "Bogota"
class(ciudad) # Output: "character"

# Ejemplo de logical
es_activo <- TRUE
class(es_activo) # Output: "logical"</code></pre>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Text+Logical+Data" alt="[Imagen que ilustra datos de texto y l√≥gicos en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Los l√≥gicos son esenciales para filtros y condiciones en tus investigaciones, detective.</p>
                    </div>
                </div>

                <!-- Slide 4: Fechas (date) y Valores especiales (NA, NAN, Inf) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Tipos de Datos: Fechas y Casos Especiales</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**Fechas (date)**: Representan d√≠as espec√≠ficos, por ejemplo, `"01/01/2022"`. Cruciales para la cronolog√≠a de los eventos en tu caso.</li>
                            <li>**Valores especiales**:
                                <ul class="list-circle list-inside ml-4">
                                    <li>`NA`: Indica **datos faltantes** (missing). Una pista que no se encontr√≥.</li>
                                    <li>`NaN`: Significa "**not a number**", aparece en operaciones err√≥neas como `0/0`. Un c√°lculo que no tiene sentido.</li>
                                    <li>`Inf`: Se usa cuando el resultado es **infinito**, como `1/0`. Algo que es inmedible.</li>
                                </ul>
                            </li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplo de date
fecha_analisis <- as.Date("2023-10-26")
class(fecha_analisis) # Output: "Date"

# Ejemplos de valores especiales
val_faltante <- NA
resultado_error <- 0/0
resultado_infinito <- 1/0</code></pre>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=Special+Data+Types" alt="[Imagen que ilustra tipos de datos especiales en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">üí° **Consejo, detective:** Es importante identificar el tipo de dato, ya que afectar√° las funciones de R. ¬°Como saber si una huella es de zapato o de bota!</p>
                    </div>
                </div>

                <!-- Slide 5: Operadores matem√°ticos: aritm√©ticos -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">‚ûï Operadores Aritm√©ticos: Tus Herramientas de C√°lculo</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Los operadores aritm√©ticos realizan c√°lculos num√©ricos b√°sicos, esenciales para cuantificar tus hallazgos:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**+**: Suma (`5 + 3` = `8`)</li>
                            <li>**-**: Resta (`10 - 4` = `6`)</li>
                            <li>**\***: Multiplicaci√≥n (`2 * 6` = `12`)</li>
                            <li>**/**: Divisi√≥n (`15 / 3` = `5`)</li>
                            <li>**^**: Potencia (`2 ^ 3` = `8`)</li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplos de operadores aritm√©ticos
suma <- 5 + 3
resta <- 10 - 4
multiplicacion <- 2 * 6
division <- 15 / 3
potencia <- 2 ^ 3</code></pre>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=Arithmetic+Operators" alt="[Imagen que ilustra operadores aritm√©ticos en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Fundamentales para cualquier c√°lculo en tu investigaci√≥n, detective.</p>
                    </div>
                </div>

                <!-- Slide 6: Operadores de comparaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">‚öñÔ∏è Operadores de Comparaci√≥n: Identificando Coincidencias</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Estos operadores comparan dos valores y devuelven un resultado l√≥gico (`TRUE` o `FALSE`). Te ayudan a ver si una pista coincide con lo que buscas:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**<**, **>**: Menor o mayor que (`5 < 10` es `TRUE`)</li>
                            <li>**==**: Igualdad (`"Hola" == "Hola"` es `TRUE`)</li>
                            <li>**>=**, **<=**: Mayor o menor igual (`7 >= 7` es `TRUE`)</li>
                            <li>**!=**: Diferente (`"R" != "Python"` es `TRUE`)</li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplos de operadores de comparaci√≥n
es_menor <- 5 < 10
es_igual <- "R" == "r"
es_mayor_igual <- 7 >= 7
es_diferente <- 10 != 5</code></pre>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Comparison+Operators" alt="[Imagen que ilustra operadores de comparaci√≥n en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Esenciales para filtrar datos y establecer condiciones en tus b√∫squedas, detective.</p>
                    </div>
                </div>

                <!-- Slide 7: Operadores booleanos -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üß† Operadores Booleanos: L√≥gica en tu Investigaci√≥n</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Permiten combinar y manipular valores l√≥gicos. Son tu forma de construir argumentos complejos para tu caso:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**&** (AND): Ambos valores deben ser verdaderos para que el resultado sea `TRUE`. Si la huella *y* la coartada son falsas.</li>
                            <li>**|** (OR): Si al menos un valor es `TRUE`, el resultado es `TRUE`. Si el sospechoso estaba *aqu√≠* o *all√°*.</li>
                            <li>**!** (NOT): Invierte el valor l√≥gico (`!TRUE` es `FALSE`). Lo opuesto a lo que esperas.</li>
                        </ul>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Ejemplos de operadores booleanos
condicion_and <- (TRUE & FALSE)
condicion_or <- (TRUE | FALSE)
condicion_not <- !TRUE</code></pre>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Boolean+Operators" alt="[Imagen que ilustra operadores booleanos en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Permiten construir condiciones complejas para tus an√°lisis, detective.</p>
                    </div>
                </div>

                <!-- Slide 8: Operadores de asignaci√≥n: <- -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">‚û°Ô∏è Operadores de Asignaci√≥n: La Flecha `<-`</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">El operador `<-` es el est√°ndar en R para asignar valores a variables. Es como etiquetar tus pruebas para no perderlas de vista, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>nombre_persona <- "Laura"
edad_paciente <- 30
suma_valores <- 10 + 5</code></pre>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Este operador permite que la variable sea accesible tanto dentro como fuera de funciones.</li>
                            <li>Es la forma preferida para la asignaci√≥n general en R.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Assignment+Arrow" alt="[Imagen que ilustra el operador de asignaci√≥n en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">√ösalo para nombrar tus datos y resultados en el expediente del caso, detective.</p>
                    </div>
                </div>

                <!-- Slide 9: Operadores de asignaci√≥n: = y Consejo Final -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üü∞ Operadores de Asignaci√≥n: El Signo `=` y un Consejo Final</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**=**: Se usa principalmente para asignar valores **dentro de funciones** (especialmente para argumentos).
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code># Ejemplo de uso de '=' dentro de una funci√≥n
plot(x = c(1,2,3), y = c(4,5,6), main = "Mi Gr√°fico")</code></pre>
                            </li>
                            <li>A diferencia de `<-`, la asignaci√≥n con `=` solo tiene efecto dentro del contexto de la funci√≥n y la variable mantiene su valor original fuera de ella.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=Assignment+Equal" alt="[Imagen que ilustra el operador de asignaci√≥n igual en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">üí° **Consejo, detective:** Para buenas pr√°cticas, usa `<-` en la mayor√≠a de los casos, excepto cuando trabajes dentro de funciones donde `=` es m√°s apropiado. ¬°Cada herramienta tiene su lugar en el kit!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema5" class="nav-button">Anterior</button>
                <div id="slide-counter-tema5" class="text-sm font-bold"></div>
                <button id="nextBtnTema5" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema5" href="#tema6" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 6: Estructuras de datos en R (con slides internas) -->
        <section id="tema6" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üì¶ Tema 6: Estructuras de Datos: El Archivo de Evidencias</h2>
            <p class="text-lg text-gray-700 mb-6">Profundizaremos en las estructuras de datos m√°s comunes y √∫tiles en R, detective: vectores, matrices, arrays, listas y data frames (tablas). Comprenderemos sus caracter√≠sticas, c√≥mo crearlas y c√≥mo acceder a sus elementos, ¬°como organizar tus expedientes!</p>

            <div id="tema6-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n a Vectores y Tablas de Datos en R -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">üß© Tema: Vectores y Tablas de Datos en R</h3>
                        <p class="text-lg text-gray-700 mb-6">En R, la forma en que organizas tus datos es fundamental para tu investigaci√≥n, detective. Exploraremos dos de las estructuras m√°s importantes: **vectores** y **data.frames** (tablas de datos).</p>
                        <img src="imagenes/mapa_vectores.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/F04A4C/FFFFFF?text=Data+Structures+Intro';" alt="[Imagen de un mapa conceptual de vectores y tablas de datos]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Comprenderlos te permitir√° manejar eficientemente cualquier conjunto de datos. ¬°Empecemos por la base!</p>
                    </div>
                </div>

                <!-- Slide 2: ¬øQu√© es un vector en R? -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîπ ¬øQu√© es un Vector en R?</h3>
                        <p class="text-lg text-gray-700 mb-4">Un **vector** es la estructura de datos m√°s b√°sica en R. Consiste en una secuencia ordenada de elementos del **mismo tipo** (todos num√©ricos, todos caracteres, todos l√≥gicos, etc.). Piensa en ello como una lista de huellas del mismo tipo, detective.</p>
                        <p class="text-lg text-gray-700 mb-6">Los vectores permiten almacenar datos simples y manipularlos de forma r√°pida mediante operaciones matem√°ticas o l√≥gicas.</p>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Vector+Concept" alt="[Imagen que ilustra el concepto de un vector en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 3: ¬øC√≥mo se crea un vector? -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìå ¬øC√≥mo se crea un Vector?</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Se usa la funci√≥n `c()` (de ‚Äúcombine‚Äù), detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Vector de nombres de enfermedades
enfermedades <- c("COVID-19", "Dengue", "Zika", "Influenza")

# Vector de casos confirmados
casos <- c(1200, 800, 350, 950)

# Vector de estados de vacunaci√≥n (TRUE = vacunaci√≥n activa)
vacunacion <- c(TRUE, FALSE, FALSE, TRUE)</code></pre>
                        <p class="text-sm text-gray-500 mt-2">üí° Los nombres de variables no deben llevar tildes ni espacios, y los datos tipo texto van entre comillas. ¬°Peque√±as reglas para un gran detective!</p>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Create+Vector+Code" alt="[Imagen que muestra c√≥digo para crear un vector]" class="content-image">
                    </div>
                </div>

                <!-- NEW Slide 4: Ejemplo Adicional de Vectores -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Ejemplo Adicional: Operaciones con Vectores</h3>
                        <p class="text-lg text-gray-700 mb-4">Los vectores no solo almacenan datos, tambi√©n puedes realizar operaciones directamente sobre ellos. ¬°Es como procesar varias pruebas a la vez, detective!</p>
                        <p class="text-lg text-gray-700 font-medium mb-2">**Ejemplo: Calcular el porcentaje de casos por enfermedad.**</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Continuamos con los vectores creados: 'enfermedades' y 'casos'
# casos <- c(1200, 800, 350, 950)

total_casos <- sum(casos)
porcentaje_casos <- (casos / total_casos) * 100

# Ver el resultado
data.frame(Enfermedad = enfermedades, Porcentaje = porcentaje_casos)</code></pre>
                        <p class="text-sm text-gray-500 mt-2">Este ejemplo muestra c√≥mo sumar todos los elementos de un vector y luego realizar una operaci√≥n elemento a elemento para obtener porcentajes. ¬°Eficiencia en acci√≥n!</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Vector+Operations" alt="[Imagen de un ejemplo de operaciones con vectores]" class="content-image">
                    </div>
                </div>

                <!-- NEW Slide 5: Exploraci√≥n con Iframe -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üåê Exploraci√≥n Adicional: Un Caso Interactivo</h3>
                        <p class="text-lg text-gray-700 mb-4">A veces, las pistas te llevan a recursos externos que contienen informaci√≥n vital. Aqu√≠ tienes un ejemplo interactivo, detective. Puedes explorar esta p√°gina web dentro de este marco, como si tuvieras un expediente abierto en tu mesa de investigaci√≥n.</p>
                        <div class="iframe-container mt-4">
                            <iframe src="https://joskerus.github.io/Nuevocurso/mapa" title="Exploraci√≥n Interactiva de Datos"></iframe>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">Recuerda que este contenido es externo y se carga para tu referencia.</p>
                    </div>
                </div>

                <!-- Slide 4 (now 6): ¬øQu√© es un data.frame (tabla de datos)? -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîπ ¬øQu√© es un Data.frame (Tabla de Datos)?</h3>
                        <p class="text-lg text-gray-700 mb-4">Un **data.frame** es una estructura m√°s compleja que agrupa varios vectores como columnas. Piensa en ello como el expediente completo de un caso, donde cada columna es un tipo de evidencia (edad, diagn√≥stico, etc.) y cada fila es un caso o paciente individual:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>Cada columna es una variable (por ejemplo, edad, diagn√≥stico, vacunaci√≥n).</li>
                            <li>Cada fila representa una observaci√≥n (por ejemplo, un paciente o caso individual).</li>
                            <li>Todas las columnas deben tener el mismo n√∫mero de filas.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=DataFrame+Concept" alt="[Imagen que ilustra el concepto de un data.frame en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 6 (now 7): Funciones para explorar data.frames -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üõ†Ô∏è Funciones para explorar Data.frames: Tu Lupa del Archivo</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Estas funciones permiten conocer las caracter√≠sticas de un data.frame. Son como las herramientas de tu lupa para examinar los expedientes, detective:</p>
                        <div class="overflow-x-auto mx-auto max-w-2xl">
                            <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm">
                                <thead>
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Funci√≥n</th>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Descripci√≥n</th>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Ejemplo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-2 px-4 border-b">`colnames()`</td>
                                        <td class="py-2 px-4 border-b">Muestra los nombres de las columnas (los encabezados de tus reportes)</td>
                                        <td class="py-2 px-4 border-b">`colnames(datos_pacientes)`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">`rownames()`</td>
                                        <td class="py-2 px-4 border-b">Devuelve los nombres o identificadores de las filas (los identificadores de los casos)</td>
                                        <td class="py-2 px-4 border-b">`rownames(datos_pacientes)`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">`nrow()`</td>
                                        <td class="py-2 px-4 border-b">Indica cu√°ntas filas tiene la tabla (el n√∫mero total de casos)</td>
                                        <td class="py-2 px-4 border-b">`nrow(datos_pacientes)`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">`ncol()`</td>
                                        <td class="py-2 px-4 border-b">N√∫mero de columnas en la tabla (el n√∫mero de tipos de evidencia)</td>
                                        <td class="py-2 px-4 border-b">`ncol(datos_pacientes)`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4">`length()`</td>
                                        <td class="py-2 px-4">Devuelve cu√°ntos elementos tiene el objeto (en un data.frame = columnas)</td>
                                        <td class="py-2 px-4">`length(datos_pacientes)`</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=DataFrame+Functions" alt="[Imagen de un ejemplo de funciones para explorar data frames]" class="content-image">
                    </div>
                </div>

                <!-- Slide 7 (now 8): str() y Crear desde R manualmente -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Exploraci√≥n Adicional y Creaci√≥n Manual de Expedientes</h3>
                        <p class="text-lg text-gray-700 mb-4">üí° Tambi√©n puedes usar `str()` para ver la estructura completa de un data.frame, detective. Es como un resumen detallado de tu expediente:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>str(datos_pacientes)</code></pre>
                        <p class="text-lg text-gray-700 font-medium mt-4 mb-2">üßÆ **Crear desde R manualmente:**</p>
                        <p class="text-lg text-gray-700">Como vimos, puedes construir una tabla uniendo varios vectores con `data.frame()`, creando tu propio expediente desde cero.</p>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=STR+Manual+Create" alt="[Imagen de ejemplo de la funci√≥n str() y creaci√≥n manual de data frames]" class="content-image">
                    </div>
                </div>

                <!-- Slide 8 (now 9): Abrir archivos existentes (tipos de archivo) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üíæ Abrir y Importar Archivos Existentes: Accediendo a Evidencias Externas</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">R permite importar archivos desde diversas fuentes. Aqu√≠ algunos tipos comunes que encontrar√°s en tu investigaci√≥n, detective:</p>
                        <div class="overflow-x-auto mx-auto max-w-2xl">
                            <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm">
                                <thead>
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Tipo de archivo</th>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Funci√≥n</th>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Paquete</th>
                                        <th class="py-2 px-4 border-b text-left text-gray-800">Ejemplo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="py-2 px-4 border-b">.csv</td>
                                        <td class="py-2 px-4 border-b">`read_csv()`</td>
                                        <td class="py-2 px-4 border-b">`readr`</td>
                                        <td class="py-2 px-4 border-b">`read_csv("datos.csv")`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">.xlsx</td>
                                        <td class="py-2 px-4 border-b">`read_excel()`</td>
                                        <td class="py-2 px-4 border-b">`readxl`</td>
                                        <td class="py-2 px-4 border-b">`read_excel("datos.xlsx")`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 border-b">.RDS</td>
                                        <td class="py-2 px-4 border-b">`readRDS()`</td>
                                        <td class="py-2 px-4 border-b">`base`</td>
                                        <td class="py-2 px-4 border-b">`readRDS("base_datos.rds")`</td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4">.dta (Stata)</td>
                                        <td class="py-2 px-4">`read_dta()`</td>
                                        <td class="py-2 px-4">`haven`</td>
                                        <td class="py-2 px-4">`read_dta("salud_publica.dta")`</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Import+Files" alt="[Imagen de tabla de funciones para importar archivos en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 9 (now 10): Ejemplo completo de importaci√≥n y Conclusi√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìç Ejemplo Completo de Importaci√≥n y Conclusi√≥n</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Aqu√≠ tienes un ejemplo completo, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>library(readr)

# Importar datos de enfermedades infecciosas desde un CSV
datos_brote <- read_csv("brote_dengue.csv")

# Revisar estructura b√°sica
str(datos_brote)</code></pre>
                        <p class="text-lg text-gray-700 font-medium mt-4 mb-2">‚úÖ **Conclusi√≥n de la Pista 6**</p>
                        <p class="text-lg text-gray-700">Tanto los **vectores** como los **data.frames** son esenciales para construir, organizar y analizar datos en R. Estas estructuras te permitir√°n representar pacientes, brotes, tratamientos y muchos otros aspectos clave en salud p√∫blica, de forma reproducible y eficiente. ¬°El archivo de evidencias est√° en tus manos!</p>
                        <p class="text-xl font-bold mt-4 text-[#AEC800]">Dominar su creaci√≥n, exploraci√≥n e importaci√≥n ser√° la base de tu trabajo como analista o investigador, detective.</p>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=Import+Conclusion" alt="[Imagen que representa la conclusi√≥n sobre la importaci√≥n de datos]" class="content-image">
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema6" class="nav-button">Anterior</button>
                <div id="slide-counter-tema6" class="text-sm font-bold"></div>
                <button id="nextBtnTema6" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema6" href="#tema7" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 7: Funciones en R (NUEVO) -->
        <section id="tema7" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">‚öôÔ∏è Tema 7: Funciones en R: Automatizando el Pensamiento Anal√≠tico</h2>
            <p class="text-lg text-gray-700 mb-6">Las funciones en R son bloques de c√≥digo reutilizables que realizan tareas espec√≠ficas. Aprenderemos a utilizarlas y a crear las nuestras propias, detective. ¬°Ser√°n tus asistentes autom√°ticos para resolver los casos!</p>

            <div id="tema7-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: ¬øQu√© es una funci√≥n? -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">üîß ¬øQu√© es una Funci√≥n, detective?</h3>
                        <p class="text-lg text-gray-700 mb-4">Una funci√≥n en R es un conjunto de instrucciones que toma ciertos datos de entrada (input), los procesa mediante operaciones definidas, y devuelve un resultado (output).</p>
                        <p class="text-lg text-gray-700 mb-6">Es como una receta para resolver un problema: t√∫ introduces los ingredientes (variables), sigues los pasos (l√≥gica), y obtienes un plato final (resultado). ¬°Un truco m√°s en tu arsenal!</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Function+Concept" alt="[Imagen que ilustra el concepto de una funci√≥n]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Este enfoque permite reutilizar c√≥digo, automatizar tareas rutinarias y estructurar mejor tus an√°lisis. ¬°Eficiencia garantizada!</p>
                    </div>
                </div>

                <!-- Slide 2: Componentes de una funci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">‚öôÔ∏è Componentes de una Funci√≥n: La Anatom√≠a de un Automatismo</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Una funci√≥n en R est√° compuesta por estas partes clave, como las piezas de un mecanismo de reloj, detective:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**Nombre**: c√≥mo se identifica y llama la funci√≥n. (Su "identidad")</li>
                            <li>**Argumentos**: variables o valores que se entregan como entrada. (Las "pistas" que le das)</li>
                            <li>**Cuerpo (body)**: operaciones que transforman los argumentos. (El "proceso de investigaci√≥n" interno)</li>
                            <li>**Salida (output)**: el resultado final que se desea obtener, que se devuelve con `return()`. (La "conclusi√≥n" de la investigaci√≥n)</li>
                        </ul>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Function+Components" alt="[Imagen que ilustra los componentes de una funci√≥n]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Cada parte es crucial para el funcionamiento de la "receta".</p>
                    </div>
                </div>

                <!-- Slide 3: Ejemplo cl√°sico: c√°lculo de IMC (f√≥rmula y c√≥digo) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üì¶ Ejemplo Cl√°sico: C√°lculo de IMC (√çndice de Masa Corporal)</h3>
                        <p class="text-lg text-gray-700 mb-4">Usamos el ejemplo del √çndice de Masa Corporal (IMC), cuyo c√°lculo es una medida est√°ndar en salud. La f√≥rmula es:</p>
                        <p class="text-center text-xl font-bold mb-4">\[ \text{IMC} = \frac{\text{peso (kg)}}{\text{talla (m)}^2} \]</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>IMC <- function(peso, talla) {
  resultado <- peso / (talla^2)
  return(resultado)
}</code></pre>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=IMC+Formula+Code" alt="[Imagen que muestra la f√≥rmula del IMC y el c√≥digo de una funci√≥n en R para calcularlo]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Una funci√≥n simple para un c√°lculo com√∫n que puedes automatizar, detective.</p>
                    </div>
                </div>

                <!-- Slide 4: Ejemplo cl√°sico: c√°lculo de IMC (uso) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Calculando el IMC: Poniendo la Funci√≥n en Acci√≥n</h3>
                        <p class="text-lg text-gray-700 mb-4">Si calculamos el IMC para una persona de 80 kg y 1.75 m. Observa la facilidad, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>IMC(peso = 80, talla = 1.75)
# [1] 26.12245</code></pre>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=IMC+Usage" alt="[Imagen que muestra el uso de la funci√≥n IMC en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">As√≠ es c√≥mo se usa la funci√≥n que acabamos de definir. ¬°Una pieza de tu caso resuelta con un comando!</p>
                    </div>
                </div>

                <!-- Slide 5: Nuevo ejemplo: tasa de ataque (f√≥rmula y c√≥digo) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üè• Nuevo Ejemplo en Salud P√∫blica: Tasa de Ataque</h3>
                        <p class="text-lg text-gray-700 mb-4">La tasa de ataque es una medida clave durante brotes epid√©micos. Nos ayuda a entender qu√© tan r√°pido se propaga una enfermedad. Se calcula como:</p>
                        <p class="text-center text-xl font-bold mb-4">\[ \text{Tasa de ataque} = \frac{\text{n√∫mero de casos nuevos}}{\text{poblaci√≥n en riesgo}} \times 100 \]</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>tasa_ataque <- function(casos, poblacion) {
  resultado <- (casos / poblacion) * 100
  return(resultado)
}</code></pre>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=Attack+Rate+Formula+Code" alt="[Imagen que muestra la f√≥rmula de la tasa de ataque y el c√≥digo de una funci√≥n en R para calcularla]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Automatizando un c√°lculo epidemiol√≥gico esencial, detective.</p>
                    </div>
                </div>

                <!-- Slide 6: Nuevo ejemplo: tasa de ataque (uso) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Calculando la Tasa de Ataque: Obteniendo el Resultado de tu Pista</h3>
                        <p class="text-lg text-gray-700 mb-4">Y utilizarla para calcular una tasa. Si tienes 25 casos en una poblaci√≥n de 200 personas, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>tasa_ataque(casos = 25, poblacion = 200)
# [1] 12.5</code></pre>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Attack+Rate+Usage" alt="[Imagen que muestra el uso de la funci√≥n tasa de ataque en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Esta funci√≥n puede integrarse f√°cilmente en an√°lisis m√°s grandes o aplicarse a m√∫ltiples localidades. ¬°Multiplica tu capacidad de investigaci√≥n!</p>
                    </div>
                </div>

                <!-- Slide 7: ¬øPor qu√© son tan valiosas las funciones? -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç ¬øPor qu√© son tan valiosas las Funciones, detective?</h3>
                        <p class="text-lg text-gray-700 font-medium mb-2">Las funciones aportan beneficios clave a tu flujo de trabajo, como nuevas ventajas para tu agencia:</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>**Eficiencia**: reducen la repetici√≥n de c√≥digo (`DRY - Don't Repeat Yourself`). Menos trabajo manual, m√°s tiempo para pensar.</li>
                            <li>**Claridad**: agrupan operaciones complejas en una √∫nica etiqueta comprensible. Tu c√≥digo es m√°s f√°cil de "leer" y entender.</li>
                            <li>**Reutilizaci√≥n**: puedes usarlas en distintos proyectos o con nuevos datos sin reescribir. Una soluci√≥n para m√∫ltiples casos.</li>
                            <li>**Mantenibilidad**: facilita la correcci√≥n de errores y la mejora del c√≥digo. Si algo falla, sabes d√≥nde buscar.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Function+Benefits" alt="[Imagen que ilustra los beneficios de usar funciones en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Son la clave para un an√°lisis de datos m√°s robusto y escalable. ¬°Dominarlas te har√° un detective de √©lite!</p>
                    </div>
                </div>

                <!-- Slide 8: Conclusi√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üéØ Conclusi√≥n: Tu Mente como Herramienta</h3>
                        <p class="text-lg text-gray-700 mb-6">En R, las funciones te permiten formalizar procedimientos anal√≠ticos. Desde calcular un indicador como el IMC, hasta implementar modelos complejos en salud p√∫blica, las funciones son una herramienta central para transformar datos en decisiones. ¬°Tu intelecto, automatizado!</p>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Functions+Conclusion" alt="[Imagen que representa la conclusi√≥n sobre el uso de funciones en R]" class="content-image">
                        <p class="text-xl font-bold mt-4 text-[#AEC800]">¬øTe gustar√≠a que desarroll√°ramos m√°s ejemplos como funciones para tasas ajustadas, mortalidad o letalidad, detective? Tambi√©n puedo ayudarte a integrarlas en flujos de trabajo m√°s amplios. üí°üìàüíª</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema7" class="nav-button">Anterior</button>
                <div id="slide-counter-tema7" class="text-sm font-bold"></div>
                <button id="nextBtnTema7" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema7" href="#tema8" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Tema 8: Librer√≠as (NUEVO) -->
        <section id="tema8" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìö Tema 8: Librer√≠as: Tus Herramientas Especializadas</h2>
            <p class="text-lg text-gray-700 mb-6">En R, las "librer√≠as" se refieren a conjuntos de funciones organizadas de manera l√≥gica que pueden ser utilizadas para llevar a cabo diversas tareas, como an√°lisis, limpieza y visualizaci√≥n de datos, entre otros, detective. ¬°Son tus kits de herramientas de especialista para desentra√±ar los misterios de los datos!</p>

            <div id="tema8-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n a las Librer√≠as -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">¬øQu√© son las Librer√≠as en R, detective?</h3>
                        <p class="text-lg text-gray-700 mb-6">Las librer√≠as son colecciones de funciones y datos que extienden las capacidades de R, permiti√©ndote realizar tareas complejas con mayor facilidad. Son como las herramientas especializadas en el kit de un detective: cada una para un prop√≥sito √∫nico.</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=R+Libraries+Intro';" alt="[Imagen introductoria a las librer√≠as en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">¬°Exploremos algunas de las m√°s √∫tiles para tu investigaci√≥n!</p>
                    </div>
                </div>

                <!-- Slide 2: ggplot2 -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìà ggplot2: El Arte de la Visualizaci√≥n de Evidencias</h3>
                        <p class="text-lg text-gray-700 mb-4">Esta librer√≠a sirve para la creaci√≥n de gr√°ficos y visualizaciones de datos de alta calidad. Te permite presentar tus descubrimientos de manera clara y convincente, detective, revelando patrones y tendencias ocultas.</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Cargar la librer√≠a
library(ggplot2)

# Ejemplo b√°sico de gr√°fico
ggplot(mtcars, aes(x = mpg, y = hp)) +
  geom_point()</code></pre>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=ggplot2" alt="[Imagen que representa un gr√°fico de ggplot2]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Tu mejor aliado para contar historias con datos y revelar patrones ocultos. ¬°Como un mapa del crimen!</p>
                    </div>
                </div>

                <!-- Slide 3: dplyr -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîé dplyr: La Sala de Interrogatorios de los Datos</h3>
                        <p class="text-lg text-gray-700 mb-4">Permite la manipulaci√≥n y transformaci√≥n eficiente de datos. Con `dplyr`, puedes filtrar, seleccionar, agrupar y resumir la informaci√≥n con la precisi√≥n de un interrogatorio experto, detective, extrayendo solo las respuestas clave.</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Cargar la librer√≠a
library(dplyr)

# Ejemplo: filtrar filas y seleccionar columnas
mtcars %>%
  filter(cyl == 4) %>%
  select(mpg, hp)</code></pre>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=dplyr" alt="[Imagen que representa la librer√≠a dplyr]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Perfecta para limpiar y organizar tus bases de datos, ¬°dej√°ndolas impecables para el an√°lisis de cualquier caso!</p>
                    </div>
                </div>

                <!-- Slide 4: tidyr -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üßπ tidyr: Organizando la Escena del Crimen de tus Datos</h3>
                        <p class="text-lg text-gray-700 mb-4">Utilizada para organizar y reorganizar datos en un formato tabular ordenado (tidy data). Es fundamental para asegurar que cada variable y observaci√≥n est√© en su lugar correcto, como organizar la evidencia recolectada en un caso, detective.</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Cargar la librer√≠a
library(tidyr)

# Ejemplo: de ancho a largo (pivot_longer)
data_wide <- data.frame(
  id = 1,
  val_a = 10,
  val_b = 20
)
data_long <- data_wide %>%
  pivot_longer(starts_with("val"), names_to = "variable", values_to = "valor")</code></pre>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=tidyr" alt="[Imagen que representa la librer√≠a tidyr]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Transforma tus datos para an√°lisis m√°s sencillos y una comprensi√≥n m√°s profunda de los hechos.</p>
                    </div>
                </div>

                <!-- Slide 5: readr -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üö™ readr: La Puerta de Entrada y Salida de tus Evidencias</h3>
                        <p class="text-lg text-gray-700 mb-4">Sirve para leer y escribir datos en formatos como CSV, TSV y otros. Es la forma m√°s eficiente de importar tus bases de datos o exportar tus resultados, detective, asegurando un flujo de informaci√≥n sin obst√°culos.</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Cargar la librer√≠a
library(readr)

# Ejemplo: leer un archivo CSV
mis_datos <- read_csv("ruta/a/mi_archivo.csv")</code></pre>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=readr" alt="[Imagen que representa la librer√≠a readr]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">La puerta de entrada y salida para tus datos. ¬°Asegura que tu informaci√≥n fluya sin obst√°culos en tu investigaci√≥n!</p>
                    </div>
                </div>

                <!-- Slide 6: plyr -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üß© plyr: Divisi√≥n y Conquista de los Datos</h3>
                        <p class="text-lg text-gray-700 mb-4">Funciona para dividir, aplicar y combinar datos de manera eficiente. Piensa en ella como tu estrategia para desglosar un caso complejo en partes manejables, analizarlas y luego reunir las conclusiones, detective.</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Cargar la librer√≠a
library(plyr)

# Ejemplo: calcular la media por grupo (ddply)
# df <- data.frame(grupo = c("A","A","B","B"), valor = c(1,2,3,4))
# resultado <- ddply(df, "grupo", summarise, media_valor = mean(valor))</code></pre>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=plyr" alt="[Imagen que representa la librer√≠a plyr]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">√ötil para operaciones de agregaci√≥n y resumen. ¬°Una t√©cnica avanzada para tu kit de detective!</p>
                    </div>
                </div>

                <!-- Slide 7: Meta-librer√≠as (Tidyverse) y Conclusi√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üåü Meta-Librer√≠as: El Poder de Tidyverse</h3>
                        <p class="text-lg text-gray-700 mb-4">A su vez, hay **meta-librer√≠as**, es decir, aquellas que combinan varias librer√≠as en un solo paquete. Son como un kit de herramientas completo que ya trae todo lo necesario para tu investigaci√≥n, detective.</p>
                        <p class="text-lg text-gray-700 mb-6">Un ejemplo de estas es la meta-librer√≠a **Tidyverse**, que incluye `ggplot2`, `dplyr`, `tidyr`, `readr`, entre otras, proporcionando un flujo de trabajo cohesivo y potente.</p>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Tidyverse" alt="[Imagen que representa la meta-librer√≠a Tidyverse]" class="content-image">
                        <p class="text-xl font-bold mt-4 text-[#AEC800]">Las librer√≠as son herramientas clave para desbloquear el verdadero potencial de R en tus an√°lisis de datos. ¬°Tu kit de detective est√° cada vez m√°s completo!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema8" class="nav-button">Anterior</button>
                <div id="slide-counter-tema8" class="text-sm font-bold"></div>
                <button id="nextBtnTema8" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema8" href="#tema9" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>
        
        <!-- Secci√≥n Tema 9: Manipulaci√≥n de datos con Tidyverse (Antiguo Tema 8) -->
        <section id="tema9" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìä Tema 9: Manipulaci√≥n de Datos con Tidyverse: El Arte de Interrogar Evidencias</h2>
            <p class="text-lg text-gray-700 mb-6">Este tema es central para el an√°lisis de datos, detective. Nos sumergiremos en el ecosistema `tidyverse`, una colecci√≥n de paquetes dise√±ados para trabajar con datos de manera consistente y eficiente. Cubriremos `dplyr` para la manipulaci√≥n de datos (`filter`, `select`, `mutate`, `group_by`, `summarise`) y `readr` para importar y exportar datos. ¬°Prep√°rate para extraer la verdad de los datos y desentra√±ar los misterios!</p>

            <div id="tema9-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Introducci√≥n a Tidyverse -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">üß† Introducci√≥n a Tidyverse: Tu Aliado en la Limpieza de Pistas</h3>
                        <p class="text-lg text-gray-700 mb-4">Tidyverse es una **meta-librer√≠a** que re√∫ne m√∫ltiples paquetes dise√±ados para manipular, transformar y limpiar datos en R. Su nombre proviene de *Tidy* (ordenado, estructurado), haciendo referencia a la limpieza y organizaci√≥n de datos para an√°lisis eficientes.</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Tidyverse+Intro';" alt="[Imagen introductoria a Tidyverse]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Un ecosistema para datos limpios y organizados. ¬°Imprescindible para cualquier investigaci√≥n seria!</p>
                    </div>
                </div>

                <!-- Slide 2: Paquetes de Tidyverse e Instalaci√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">Paquetes de Tidyverse e Instalaci√≥n: Montando tu Equipo de √âlite</h3>
                        <p class="text-lg text-gray-700 mb-4">Al cargar `tidyverse`, se activan autom√°ticamente varias librer√≠as esenciales, como `dplyr`, `tidyr`, `tibble`, `readr`, `purrr`, entre otras. Estas herramientas permiten manejar grandes vol√∫menes de datos y realizar tareas como filtrado, agrupaci√≥n, transformaci√≥n y visualizaci√≥n. ¬°Tu equipo de especialistas a tu disposici√≥n!</p>
                        <p class="text-lg text-gray-700 font-medium mt-4 mb-2">üìå **Instalaci√≥n de Tidyverse en R:**</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>install.packages("tidyverse")  # Solo se instala una vez
library(tidyverse)  # Se carga cada vez que abrimos RStudio</code></pre>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Tidyverse+Install';" alt="[Imagen de la instalaci√≥n de Tidyverse]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Recuerda instalar una sola vez, pero cargar en cada sesi√≥n para que tu equipo est√© listo.</p>
                    </div>
                </div>

                <!-- Slide 3: Importar datos en R con Tidyverse (readxl) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìÇ Importar Datos en R con Tidyverse: Recopilando Evidencias</h3>
                        <p class="text-lg text-gray-700 mb-4">Para analizar informaci√≥n sobre enfermedades infecciosas, es com√∫n trabajar con bases de datos en formatos como Excel, CSV, RDS y otros. Por ejemplo, si tienes un archivo `datos_covid.xlsx`, puedes importarlo con `readxl` para tu an√°lisis, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>library(readxl)  # Necesario para trabajar con archivos Excel
dat <- read_excel("data/datos_covid.xlsx")</code></pre>
                        <p class="text-sm text-gray-500 mt-2">üí° **Organizaci√≥n recomendada:** Se sugiere crear una carpeta llamada `data` en el directorio de trabajo y almacenar los archivos de datos all√≠. ¬°Mant√©n tus evidencias en orden!</p>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Import+Data';" alt="[Imagen de la importaci√≥n de datos en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 4: Uso del operador PIPE %>% (sin PIPE) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîó Uso del Operador PIPE `%>%`: La L√≥gica del Detective (Sin PIPE)</h3>
                        <p class="text-lg text-gray-700 mb-4">El operador tuber√≠a (`%>%`) es una herramienta clave de Tidyverse que encadena funciones, evitando que el c√≥digo sea dif√≠cil de leer. Compara esta forma de escribir un an√°lisis; es como intentar seguir varias pistas desorganizadas, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>datos_filtrados <- filter(dat, edad > 18)
datos_con_esquema <- mutate(datos_filtrados, esquema = ifelse(dosis > 2, "Completo", "Incompleto"))
datos_agrupados <- group_by(datos_con_esquema, esquema)
datos_por_esquema <- summarise(datos_agrupados, personas = n())</code></pre>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=No+Pipe+Operator';" alt="[Imagen de c√≥digo R sin el operador pipe]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">El c√≥digo puede volverse complejo y dif√≠cil de seguir, como un laberinto de pistas.</p>
                    </div>
                </div>

                <!-- Slide 5: Uso del operador PIPE %>% (con PIPE) -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîó Uso del Operador PIPE `%>%`: La L√≥gica del Detective (Con PIPE)</h3>
                        <p class="text-lg text-gray-700 mb-4">**Con PIPE (`%>%`) ‚Äì M√°s legible y eficiente:** Ahora, mira c√≥mo el operador `%>%` te permite encadenar tus acciones de investigaci√≥n de forma fluida, como un plan de ataque perfectamente ejecutado, detective:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>datos_por_esquema <- dat %>%
  filter(edad > 18) %>%
  mutate(esquema = ifelse(dosis > 2, "Completo", "Incompleto")) %>%
  group_by(esquema) %>%
  summarise(personas = n())</code></pre>
                        <p class="text-lg text-gray-700 font-medium mt-4 mb-2">üìå **Ventajas de `%>%`:**</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-2 max-w-2xl mx-auto">
                            <li>‚úîÔ∏è Hace el c√≥digo m√°s legible.</li>
                            <li>‚úîÔ∏è Reduce l√≠neas innecesarias.</li>
                            <li>‚úîÔ∏è Encadena funciones sin necesidad de m√∫ltiples asignaciones.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=Pipe+Operator';" alt="[Imagen de c√≥digo R con el operador pipe]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Un cambio peque√±o, un gran impacto en la legibilidad de tu investigaci√≥n.</p>
                    </div>
                </div>

                <!-- Slide 6: Funciones esenciales de Tidyverse: glimpse() y summarise() -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `glimpse()` y `summarise()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**1Ô∏è‚É£ `glimpse()` ‚Äì Exploraci√≥n r√°pida de datos**
                                <p class="ml-4">Muestra un resumen general del data.frame: n√∫mero de filas, columnas, nombres de variables y tipos de datos. ¬°Es como tu primera mirada r√°pida a la escena del crimen, detective!</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% glimpse()</code></pre>
                            </li>
                            <li>**2Ô∏è‚É£ `summarise()` ‚Äì Estad√≠sticas resumidas**
                                <p class="ml-4">Calcula m√©tricas como la media de edad y el total de registros en la tabla. Ideal para obtener las cifras clave de tu caso.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% summarise(media_edad = mean(edad), casos_totales = n())</code></pre>
                            </li>
                        </ul>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Glimpse+Summarise';" alt="[Imagen que ilustra el uso de glimpse() y summarise() en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 7: Funciones esenciales de Tidyverse: group_by() -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `group_by()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**3Ô∏è‚É£ `group_by()` ‚Äì Agrupaci√≥n de datos**
                                <p class="ml-4">Para an√°lisis epidemiol√≥gicos, podemos agrupar datos por una variable, como sexo, y calcular indicadores por grupo. Es como clasificar a los sospechosos por caracter√≠sticas comunes, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>%
  group_by(sexo) %>%
  summarise(casos = n(), promedio_edad = mean(edad))</code></pre>
                            </li>
                        </ul>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=GroupBy';" alt="[Imagen que ilustra el uso de group_by() en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 8: Funciones esenciales de Tidyverse: select() y filter() -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `select()` y `filter()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**4Ô∏è‚É£ `select()` ‚Äì Extraer columnas espec√≠ficas**
                                <p class="ml-4">Si solo quieres trabajar con ciertas variables, como edad y sexo. Es como centrarte solo en las pistas relevantes para el caso, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% select(edad, sexo)</code></pre>
                            </li>
                            <li>**5Ô∏è‚É£ `filter()` ‚Äì Filtrar registros seg√∫n criterios**
                                <p class="ml-4">Para obtener registros de pacientes menores de 28 a√±os y sexo femenino. Esto te permite aislar los casos de inter√©s para una investigaci√≥n m√°s profunda.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% filter(sexo == "F", edad <= 28)</code></pre>
                            </li>
                        </ul>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Select+Filter';" alt="[Imagen que ilustra el uso de select() y filter() en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 9: Funciones esenciales de Tidyverse: arrange() -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `arrange()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**6Ô∏è‚É£ `arrange()` ‚Äì Ordenar registros**
                                <p class="ml-4">Ordena datos por edad de menor a mayor. Es como organizar tus expedientes cronol√≥gicamente o por importancia, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% arrange(edad)</code></pre>
                                <p class="ml-4 mt-2">Para ordenarlo de mayor a menor, usamos `desc()`:</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% arrange(desc(edad))</code></pre>
                            </li>
                        </ul>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=Arrange+Data';" alt="[Imagen que ilustra el uso de arrange() en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 10: Funciones esenciales de Tidyverse: mutate() y rename() -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `mutate()` y `rename()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**7Ô∏è‚É£ `mutate()` ‚Äì Crear nuevas variables**
                                <p class="ml-4">Si quieres agregar una nueva columna con informaci√≥n adicional. Como a√±adir una nueva categor√≠a a tu an√°lisis de pistas, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% mutate(dpto = toupper(nombre_departamento))</code></pre>
                            </li>
                            <li>**8Ô∏è‚É£ `rename()` ‚Äì Modificar nombres de variables**
                                <p class="ml-4">Si quieres renombrar una columna para facilitar la interpretaci√≥n. Como cambiar el nombre de un c√≥digo secreto a algo m√°s claro para tu informe, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% rename(departamento = nombre_departamento)</code></pre>
                            </li>
                        </ul>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=Mutate+Rename';" alt="[Imagen que ilustra el uso de mutate() y rename() en R]" class="content-image">
                    </div>
                </div>

                <!-- Slide 11: Funciones esenciales de Tidyverse: slice() y Conclusi√≥n -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üîç Funciones esenciales de Tidyverse: `slice()`</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**9Ô∏è‚É£ `slice()` ‚Äì Extraer filas espec√≠ficas**
                                <p class="ml-4">Para seleccionar un rango de registros, por ejemplo de la fila 10 a la 15. Esto te permite enfocarte en un segmento particular de la evidencia, detective.</p>
                                <pre class="bg-gray-100 p-2 rounded-md my-2 text-sm text-[#071E2D] text-left"><code>dat %>% slice(10:15)</code></pre>
                            </li>
                        </ul>
                        <p class="text-lg text-gray-700 font-medium mt-6 mb-2">üöÄ **Conclusi√≥n de tu Pista 9**</p>
                        <p class="text-lg text-gray-700">Tidyverse es una herramienta fundamental para la manipulaci√≥n de datos en R. Su combinaci√≥n de funciones permite limpiar, transformar y analizar informaci√≥n de manera eficiente, lo cual es clave en el estudio de brotes epidemiol√≥gicos, vigilancia en salud p√∫blica y modelado de enfermedades infecciosas.</p>
                        <p class="text-xl font-bold mt-4 text-[#AEC800]">¬°Has dominado las herramientas esenciales para la manipulaci√≥n de datos con Tidyverse, detective! ¬°Las evidencias est√°n claras!</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Tidyverse+Conclusion';" alt="[Imagen que representa la conclusi√≥n del uso de Tidyverse]" class="content-image">
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnTema9" class="nav-button">Anterior</button>
                <div id="slide-counter-tema9" class="text-sm font-bold"></div>
                <button id="nextBtnTema9" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnTema9" href="#reto" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Reto -->
        <section id="reto" class="section-padding">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìä Actividad de Afianzamiento: Manipulaci√≥n de Datos de COVID-19 en R con Tidyverse</h2>
            <p class="text-lg text-gray-700 mb-6">Esta actividad pr√°ctica te permitir√° afianzar tus conocimientos sobre la manipulaci√≥n de datos con Tidyverse. ¬°Es hora de resolver un caso real, detective!</p>

            <div id="reto-slides-container" class="relative min-h-[70vh] mb-8 slide-container">
                <!-- Slide 1: Objetivo y Carga de Datos -->
                <div class="slide active">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-[#10BED2]">Objetivo y Carga de Datos: Recopilando el Expediente COVID-19</h3>
                        <p class="text-lg text-gray-700 mb-4">Practica la manipulaci√≥n de datos en R utilizando Tidyverse, explorando registros de casos de COVID-19 en Latinoam√©rica. Aplicaremos t√©cnicas de limpieza, filtrado, agrupaci√≥n y an√°lisis de datos para extraer informaci√≥n relevante, ¬°como lo har√≠a un equipo de √©lite de detectives!</p>
                        <p class="text-lg text-gray-700 font-medium mb-2">üìÇ **Carga de Datos:**</p>
                        <p class="text-lg text-gray-700 mb-4">Descarga los datos desde el siguiente enlace y c√°rgalos en R:</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>url <- "https://github.com/TRACE-LAC/TRACE-LAC-data/blob/main/datos_covid.RDS?raw=true"
covid19 <- readr::read_rds(url)</code></pre>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Data+Loading';" alt="[Imagen que representa la carga de datos]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Aseg√∫rate de tener conexi√≥n a internet para descargar el archivo del caso.</p>
                    </div>
                </div>

                <!-- Slide 2: Paso 1: Limpieza de Nombres de Variables -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìå Paso 1: Limpieza de Nombres de Variables: Dando Sentido a las Pistas</h3>
                        <p class="text-lg text-gray-700 mb-4">Los nombres de las columnas pueden contener caracteres especiales, espacios o tildes, lo que podr√≠a causar errores en el an√°lisis. Usa la funci√≥n `standardize_column_names()` del paquete `cleanepi` para estandarizar los nombres. ¬°Es como descifrar c√≥digos para dar sentido a las pistas, detective!</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code># Instalar el paquete cleanepi si no lo tienes
# install.packages("cleanepi") 
library(cleanepi)

# Limpiar nombres de las columnas
names(covid19) <- cleanepi::standardize_column_names(names(covid19))

# Verifica los nombres estandarizados:
names(covid19)</code></pre>
                        <img src="https://placehold.co/400x250/DEFF00/071E2D?text=Clean+Names';" alt="[Imagen que representa la limpieza de nombres de variables]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">La limpieza de nombres es un paso crucial en la preparaci√≥n de datos. ¬°No queremos pistas confusas en nuestro expediente!</p>
                    </div>
                </div>

                <!-- Slide 3: Ejemplo de Manipulaci√≥n de Datos -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üìå Ejemplo de Manipulaci√≥n de Datos: Analizando los Primeros Indicios</h3>
                        <p class="text-lg text-gray-700 mb-4">Vamos a explorar algunos m√©todos clave para organizar la base de datos. ¬°Como el primer an√°lisis forense de la evidencia!</p>
                        <p class="text-lg text-gray-700 font-medium mb-2">**üîπ Ejemplo: Calcular la proporci√≥n de casos fallecidos por sexo.**</p>
                        <pre class="bg-gray-100 p-2 rounded-md my-4 text-sm text-[#071E2D] text-left"><code>casos_fallecidos <- covid19 %>%
  filter(estado_final == "Fallecido") %>%
  group_by(sexo) %>%
  summarise(proporcion = n() / nrow(covid19) * 100)</code></pre>
                        <p class="text-lg text-gray-700 mt-4 mb-2">üìå **Interpretaci√≥n:** Este c√≥digo filtra los registros de pacientes fallecidos y calcula el porcentaje de cada grupo por sexo. As√≠ sabemos d√≥nde est√°n las huellas m√°s d√©biles.</p>
                        <img src="https://placehold.co/400x250/AEC800/071E2D?text=Data+Manipulation+Example';" alt="[Imagen de un ejemplo de manipulaci√≥n de datos en R]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Un ejemplo pr√°ctico de c√≥mo combinar `filter`, `group_by` y `summarise`. ¬°El poder de Tidyverse en acci√≥n!</p>
                    </div>
                </div>

                <!-- Slide 4: Reto: Preguntas 1, 2, 3 -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üí° Reto: Aplicaci√≥n de T√©cnicas de Tidyverse - Primera Ronda de Preguntas</h3>
                        <p class="text-lg text-gray-700 mb-4">Ahora, detective, resuelve los siguientes ejercicios. ¬°Son tus primeras tareas de investigaci√≥n en solitario!</p>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**1Ô∏è‚É£** Filtra los datos para obtener solo los casos en estado "Moderado" o "Grave".</li>
                            <li>**2Ô∏è‚É£** Agrupa los casos por tipo de contagio y cuenta cu√°ntos hay en cada grupo.</li>
                            <li>**3Ô∏è‚É£** Ordena los datos por edad de mayor a menor y extrae las 10 primeras filas.</li>
                        </ul>
                        <img src="https://placehold.co/400x250/106BA0/FFFFFF?text=Challenge+1-3';" alt="[Imagen de un ejemplo de ejercicios de manipulaci√≥n de datos]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">¬°Pon a prueba tus habilidades con `filter`, `group_by`, `summarise` y `arrange`!</p>
                    </div>
                </div>

                <!-- Slide 5: Reto: Preguntas 4, 5, 6 -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üí° Reto: Continuaci√≥n de Ejercicios - Desaf√≠os Avanzados</h3>
                        <ul class="list-disc list-inside text-left text-gray-700 space-y-4 max-w-2xl mx-auto">
                            <li>**4Ô∏è‚É£** Renombra la variable `sintomas` por `descripcion_sintomas`.</li>
                            <li>**5Ô∏è‚É£** Calcula la media de presi√≥n sist√≥lica y diast√≥lica para pacientes fallecidos.</li>
                            <li>**6Ô∏è‚É£** Filtra y agrupa los datos por estado final y genera una tabla con el n√∫mero total de hospitalizaciones recientes en cada grupo.</li>
                        </ul>
                        <p class="text-lg text-gray-700 font-medium mt-6 mb-2">üìå **Consejo, detective:** Usa las funciones de Tidyverse (`filter()`, `group_by()`, `summarise()`, `arrange()`, `rename()`, `mutate()`, `select()`, `slice()`) para resolverlos. ¬°Combina tus herramientas como un verdadero experto en la escena del crimen!</p>
                        <img src="https://placehold.co/400x250/071E2D/FFFFFF?text=Challenge+4-6';" alt="[Imagen de un ejemplo de ejercicios avanzados de manipulaci√≥n de datos]" class="content-image">
                        <p class="text-sm text-gray-500 mt-2">Combina funciones para soluciones m√°s complejas, ¬°como un caso de m√∫ltiples sospechosos!</p>
                    </div>
                </div>

                <!-- Slide 6: Conclusi√≥n del Reto -->
                <div class="slide">
                    <div class="detective-card text-center p-8">
                        <h3 class="text-2xl font-semibold mb-3 text-[#10BED2]">üöÄ Conclusi√≥n del Reto: ¬°Caso Cerrado!</h3>
                        <p class="text-lg text-gray-700 mb-6">Esta actividad fortalece el uso de filtrado, agrupaci√≥n, transformaci√≥n y an√°lisis con Tidyverse, esenciales para el manejo de bases de datos en epidemiolog√≠a. ¬°Has demostrado ser un detective de datos excepcional, resolviendo cada pista del caso!</p>
                        <img src="https://placehold.co/400x250/F04A4C/FFFFFF?text=Challenge+Complete';" alt="[Imagen que representa la finalizaci√≥n de un reto]" class="content-image">
                        <p class="text-xl font-bold mt-4 text-[#AEC800]">¬°Excelente trabajo, detective! Has aplicado tus conocimientos para resolver desaf√≠os de datos. ¬°Sigue as√≠, tu reputaci√≥n crece en la academia de detectives de datos!</p>
                    </div>
                </div>
            </div>

            <nav class="flex justify-between items-center w-full max-w-xl mx-auto mt-8 nav-buttons-group">
                <button id="prevBtnReto" class="nav-button">Anterior</button>
                <div id="slide-counter-reto" class="text-sm font-bold"></div>
                <button id="nextBtnReto" class="nav-button">Siguiente</button>
                <a id="nextTopicBtnReto" href="#evaluacion" class="nav-button hidden">Siguiente Tema</a>
            </nav>
        </section>

        <!-- Secci√≥n Evaluaci√≥n -->
        <section id="evaluacion" class="section-padding detective-card">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìù Evaluaci√≥n: Pon a Prueba tus Habilidades de Detective</h2>
            <p class="text-lg text-gray-700 mb-6">Selecciona la respuesta correcta para cada pregunta basada en el contenido de esta unidad, detective. ¬°Es hora de demostrar tus conocimientos y resolver el √∫ltimo interrogatorio!</p>

            <form class="space-y-8">
                <div id="q1-container">
                    <p class="font-semibold text-lg mb-2">1. ¬øCu√°l es el prop√≥sito principal de R en el an√°lisis de datos?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q1" value="a" class="mr-2">a) Dise√±o gr√°fico avanzado <span id="q1-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q1" value="b" class="mr-2">b) Redacci√≥n de documentos <span id="q1-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q1" value="c" class="mr-2">c) An√°lisis estad√≠stico y visualizaci√≥n de datos <span id="q1-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q1" value="d" class="mr-2">d) Gesti√≥n de bases de datos relacionales <span id="q1-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q1-explanation-container" class="mt-2"></div>
                </div>

                <div id="q2-container">
                    <p class="font-semibold text-lg mb-2">2. ¬øQu√© panel de RStudio se utiliza para escribir y editar c√≥digo de forma organizada?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q2" value="a" class="mr-2">a) Consola <span id="q2-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q2" value="b" class="mr-2">b) Entorno <span id="q2-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q2" value="c" class="mr-2">c) Visualizador <span id="q2-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q2" value="d" class="mr-2">d) Editor <span id="q2-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q2-explanation-container" class="mt-2"></div>
                </div>

                <div id="q3-container">
                    <p class="font-semibold text-lg mb-2">3. ¬øQu√© tipo de dato en R se utiliza para almacenar valores de verdadero o falso?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q3" value="a" class="mr-2">a) Character <span id="q3-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q3" value="b" class="mr-2">b) Numeric <span id="q3-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q3" value="c" class="mr-2">c) Logical <span id="q3-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q3" value="d" class="mr-2">d) Integer <span id="q3-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q3-explanation-container" class="mt-2"></div>
                </div>

                <div id="q4-container">
                    <p class="font-semibold text-lg mb-2">4. ¬øCu√°l es el operador de asignaci√≥n preferido en R para variables generales?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q4" value="a" class="mr-2">a) `=` <span id="q4-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q4" value="b" class="mr-2">b) `==` <span id="q4-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q4" value="c" class="mr-2">c) `<-` <span id="q4-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q4" value="d" class="mr-2">d) `->` <span id="q4-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q4-explanation-container" class="mt-2"></div>
                </div>

                <div id="q5-container">
                    <p class="font-semibold text-lg mb-2">5. ¬øCu√°l es la principal caracter√≠stica de un vector en R?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q5" value="a" class="mr-2">a) Contiene elementos de diferentes tipos de datos <span id="q5-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q5" value="b" class="mr-2">b) Agrupa vectores como columnas, pero con diferente n√∫mero de filas <span id="q5-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q5" value="c" class="mr-2">c) Es una secuencia ordenada de elementos del mismo tipo de dato <span id="q5-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q5" value="d" class="mr-2">d) Es una tabla de dos dimensiones con filas y columnas no relacionadas <span id="q5-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q5-explanation-container" class="mt-2"></div>
                </div>

                <div id="q6-container">
                    <p class="font-semibold text-lg mb-2">6. ¬øQu√© funci√≥n se utiliza para crear una nueva variable (columna) en un data.frame con Tidyverse?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q6" value="a" class="mr-2">a) `filter()` <span id="q6-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q6" value="b" class="mr-2">b) `select()` <span id="q6-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q6" value="c" class="mr-2">c) `mutate()` <span id="q6-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q6" value="d" class="mr-2">d) `summarise()` <span id="q6-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q6-explanation-container" class="mt-2"></div>
                </div>

                <div id="q7-container">
                    <p class="font-semibold text-lg mb-2">7. El operador tuber√≠a (`%>%`) en Tidyverse tiene como principal ventaja:</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q7" value="a" class="mr-2">a) Realizar c√°lculos matem√°ticos complejos <span id="q7-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q7" value="b" class="mr-2">b) Encadenar funciones de manera m√°s legible y eficiente <span id="q7-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q7" value="c" class="mr-2">c) Guardar autom√°ticamente el c√≥digo en un archivo <span id="q7-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q7" value="d" class="mr-2">d) Crear gr√°ficos interactivos <span id="q7-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q7-explanation-container" class="mt-2"></div>
                </div>

                <div id="q8-container">
                    <p class="font-semibold text-lg mb-2">8. ¬øQu√© librer√≠a de Tidyverse es utilizada principalmente para la manipulaci√≥n y transformaci√≥n eficiente de datos?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q8" value="a" class="mr-2">a) `ggplot2` <span id="q8-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q8" value="b" class="mr-2">b) `readr` <span id="q8-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q8" value="c" class="mr-2">c) `tidyr` <span id="q8-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q8" value="d" class="mr-2">d) `dplyr` <span id="q8-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q8-explanation-container" class="mt-2"></div>
                </div>

                <div id="q9-container">
                    <p class="font-semibold text-lg mb-2">9. ¬øCu√°l de los siguientes es un componente esencial de una funci√≥n en R?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q9" value="a" class="mr-2">a) Solo el nombre <span id="q9-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q9" value="b" class="mr-2">b) Argumentos, cuerpo y salida <span id="q9-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q9" value="c" class="mr-2">c) √önicamente la salida <span id="q9-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q9" value="d" class="mr-2">d) Solo el nombre y la salida <span id="q9-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q9-explanation-container" class="mt-2"></div>
                </div>

                <div id="q10-container">
                    <p class="font-semibold text-lg mb-2">10. Para leer archivos de datos en formatos como CSV o TSV en R, ¬øcu√°l es la librer√≠a de Tidyverse recomendada?</p>
                    <div class="ml-4 space-y-2">
                        <label class="block"><input type="radio" name="q10" value="a" class="mr-2">a) `dplyr` <span id="q10-a-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q10" value="b" class="mr-2">b) `ggplot2` <span id="q10-b-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q10" value="c" class="mr-2">c) `readr` <span id="q10-c-feedback" class="ml-2 feedback-icon"></span></label>
                        <label class="block"><input type="radio" name="q10" value="d" class="mr-2">d) `purrr` <span id="q10-d-feedback" class="ml-2 feedback-icon"></span></label>
                    </div>
                    <div id="q10-explanation-container" class="mt-2"></div>
                </div>
            </form>
        </section>

        <!-- Secci√≥n Despedida -->
        <section id="despedida" class="section-padding detective-card">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üëã Despedida: ¬°Hasta la Pr√≥xima Unidad, Detective!</h2>
            <p class="text-lg text-gray-700 mb-6">¬°Felicidades por completar esta unidad, detective! Ha sido un placer guiarte a trav√©s del fascinante mundo de R y RStudio en el an√°lisis de datos para la salud p√∫blica. Has resuelto casos importantes y descubierto nuevas habilidades.</p>
            <p class="text-lg text-gray-700 mb-6">Has adquirido habilidades fundamentales que te permitir√°n abordar desaf√≠os complejos y transformar datos en informaci√≥n valiosa para la toma de decisiones. Tu licencia de detective de datos est√° creciendo con cada descubrimiento.</p>
            
            <div class="mt-8 text-center">
                <p class="text-lg text-gray-700 mb-4">Como un √∫ltimo regalo de despedida, aqu√≠ tienes un episodio especial de nuestro podcast "Pistas de Datos", d√≥nde se resume lo tratado en esta unidad:</p>
                <audio controls class="w-full max-w-md mx-auto rounded-lg shadow-lg">
                    <source src="audio/podcast.wav" type="audio/wav" onerror="this.onerror=null;this.src='https://notebooklm.google.com/notebook/ad03ab98-4769-42a0-9321-e087d8c7e4d8/audio?pli=1';">
                    Tu navegador no soporta el elemento de audio. Aqu√≠ tienes el <a href="https://notebooklm.google.com/notebook/ad03ab98-4769-42a0-9321-e087d8c7e4d8/audio?pli=1" class="text-[#AEC800] hover:underline">enlace al podcast</a>.
                </audio>
            </div>

            <p class="text-xl font-bold mt-6 text-[#AEC800]">Te invitamos a seguir explorando las siguientes unidades del curso, donde profundizaremos en temas m√°s avanzados y herramientas a√∫n m√°s potentes. ¬°El misterio de los datos contin√∫a y tus habilidades de detective seguir√°n creciendo!</p>
            <img src="imagenes/listo.png" onerror="this.onerror=null;this.src='https://placehold.co/400x250/106BA0/FFFFFF?text=Goodbye';" alt="[Imagen de una persona dando un saludo de despedida]" class="content-image">
        </section>

        <!-- Secci√≥n Bibliograf√≠a -->
        <section id="bibliografia" class="section-padding detective-card">
            <h2 class="text-4xl font-bold mb-4 text-[#071E2D]">üìö Bibliograf√≠a: Tu Expediente de Referencias</h2>
            <p class="text-lg text-gray-700 mb-4">A continuaci√≥n, se listan las principales referencias utilizadas en esta unidad, detective. ¬°Siempre es bueno tener tus fuentes a mano!</p>
            <ul class="list-disc list-inside text-left text-gray-700 space-y-2">
                <li>**R Project for Statistical Computing:** <a href="https://www.r-project.org/" target="_blank" class="text-[#AEC800] hover:underline">https://www.r-project.org/</a></li>
                <li>**TRACE-LAC - Taller R y RStudio:** <a href="https://epiverse-trace.github.io/epitkit/Taller-R-RStudio.html" target="_blank" class="text-[#AEC800] hover:underline">https://epiverse-trace.github.io/epitkit/Taller-R-RStudio.html</a></li>
            </ul>
        </section>

    </main>

    <!-- Modal for image expansion -->
    <div id="imageModal" class="image-modal-overlay">
        <button id="closeModalBtn" class="close-modal-btn">&times;</button>
        <div class="image-modal-content">
            <img id="modalImage" class="image-modal-img" src="" alt="Expanded Image">
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Chart.js configurations (unchanged)
            const charts = {};

            function wrapLabels(label, maxWidth) {
                if (typeof label !== 'string' || label.length <= maxWidth) return label;
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxWidth) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines.filter(Boolean);
            }

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                return Array.isArray(label) ? label.join(' ') : label;
            };

            const chartConfigs = {
                applicationsChart: {
                    type: 'bar',
                    data: {
                        labels: ['Gesti√≥n de Bases de Datos', 'Visualizaci√≥n de Patrones', 'Automatizaci√≥n de Procesos', 'Modelado de Fen√≥menos', 'An√°lisis Cuantitativo'].map(l => wrapLabels(l, 16)),
                        datasets: [{
                            label: 'Nivel de Impacto',
                            data: [85, 95, 75, 90, 100],
                            backgroundColor: ['#F04A4C', '#DEFF00', '#AEC800', '#106BA0', '#071E2D'], /* Updated colors */
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false }, tooltip: { callbacks: { title: tooltipTitleCallback } } },
                        scales: { x: { beginAtZero: true } }
                    }
                },
                skillsChart: {
                    type: 'doughnut',
                    data: {
                        labels: ['Componentes RStudio', 'Estructuras R', 'Funciones Tidyverse'],
                        datasets: [{
                            data: [30, 35, 35],
                            backgroundColor: ['#106BA0', '#AEC800', '#DEFF00'], /* Updated colors */
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { position: 'bottom' }, tooltip: { callbacks: { title: tooltipTitleCallback } } }
                    }
                }
            };
            
            function initializeChart(canvasId) {
                if (charts[canvasId] || !chartConfigs[canvasId]) return;
                const ctx = document.getElementById(canvasId).getContext('2d');
                charts[canvasId] = new Chart(ctx, chartConfigs[canvasId]);
            }

            // Initialize charts on page load if their canvases exist
            initializeChart('applicationsChart');
            initializeChart('skillsChart');

            // Reusable function for slide navigation
            function initSlides(containerId, prevBtnId, nextBtnId, counterId, nextTopicBtnId, nextSectionId) {
                let currentSlide = 0;
                const slidesContainer = document.getElementById(containerId);
                if (!slidesContainer) return; 
                const slides = slidesContainer.querySelectorAll('.slide');
                const prevBtn = document.getElementById(prevBtnId);
                const nextBtn = document.getElementById(nextBtnId); // "Siguiente" button
                const nextTopicButton = document.getElementById(nextTopicBtnId); // "Siguiente Tema" button
                const slideCounter = document.getElementById(counterId);
                const totalSlides = slides.length;

                function updateNav() {
                    if (!slideCounter || !prevBtn || !nextBtn || !nextTopicButton) return;

                    slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
                    prevBtn.disabled = currentSlide === 0;
                    
                    if (currentSlide === 0) {
                      prevBtn.style.visibility = 'hidden';
                    } else {
                      prevBtn.style.visibility = 'visible';
                    }

                    if (currentSlide === totalSlides - 1) {
                        nextBtn.textContent = 'Empezar de nuevo'; // Change text for the last slide
                        nextTopicButton.classList.remove('hidden'); // Show "Siguiente Tema" button
                        // Ensure it links to the next section if available
                        if (nextSectionId) {
                            nextTopicButton.href = `#${nextSectionId}`;
                        } else {
                            nextTopicButton.style.display = 'none'; // Hide if no next section
                        }
                    } else {
                        nextBtn.textContent = 'Siguiente'; // Default text
                        nextTopicButton.classList.add('hidden'); // Hide "Siguiente Tema" button
                    }
                }

                function showSlide(index) {
                    slides.forEach((slide, i) => {
                        slide.classList.toggle('active', i === index);
                    });
                    
                    const activeSlide = slides[index];
                    const canvas = activeSlide.querySelector('canvas');
                    if (canvas) {
                        initializeChart(canvas.id); 
                    }

                    updateNav();
                }

                prevBtn?.addEventListener('click', () => {
                    if (currentSlide > 0) {
                        currentSlide--;
                        showSlide(currentSlide);
                    }
                });

                nextBtn?.addEventListener('click', () => {
                    if (currentSlide === totalSlides - 1) {
                        currentSlide = 0; // Reset to first slide
                    } else {
                        currentSlide++;
                    }
                    showSlide(currentSlide);
                });
                
                showSlide(currentSlide);
            }

            // Initialize slides for each section with their respective next section IDs
            initSlides('bienvenida-slides-container', 'prevBtnBienvenida', 'nextBtnBienvenida', 'slide-counter-bienvenida', 'nextTopicBtnBienvenida', 'tema1');
            initSlides('tema1-slides-container', 'prevBtnTema1', 'nextBtnTema1', 'slide-counter-tema1', 'nextTopicBtnTema1', 'tema2');
            initSlides('tema2-slides-container', 'prevBtnTema2', 'nextBtnTema2', 'slide-counter-tema2', 'nextTopicBtnTema2', 'tema3');
            initSlides('tema3-slides-container', 'prevBtnTema3', 'nextBtnTema3', 'slide-counter-tema3', 'nextTopicBtnTema3', 'tema4');
            initSlides('tema4-slides-container', 'prevBtnTema4', 'nextBtnTema4', 'slide-counter-tema4', 'nextTopicBtnTema4', 'tema5');
            initSlides('tema5-slides-container', 'prevBtnTema5', 'nextBtnTema5', 'slide-counter-tema5', 'nextTopicBtnTema5', 'tema6');
            initSlides('tema6-slides-container', 'prevBtnTema6', 'nextBtnTema6', 'slide-counter-tema6', 'nextTopicBtnTema6', 'tema7');
            initSlides('tema7-slides-container', 'prevBtnTema7', 'nextBtnTema7', 'slide-counter-tema7', 'nextTopicBtnTema7', 'tema8');
            initSlides('tema8-slides-container', 'prevBtnTema8', 'nextBtnTema8', 'slide-counter-tema8', 'nextTopicBtnTema8', 'tema9');
            initSlides('tema9-slides-container', 'prevBtnTema9', 'nextBtnTema9', 'slide-counter-tema9', 'nextTopicBtnTema9', 'reto');
            initSlides('reto-slides-container', 'prevBtnReto', 'nextBtnReto', 'slide-counter-reto', 'nextTopicBtnReto', 'evaluacion');
            // The evaluation and despedida sections do not have internal slides

            // Image Modal Logic
            const imageModal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const contentImages = document.querySelectorAll('.content-image');

            contentImages.forEach(image => {
                image.addEventListener('click', () => {
                    modalImage.src = image.src;
                    imageModal.classList.add('active');
                });
            });

            closeModalBtn.addEventListener('click', () => {
                imageModal.classList.remove('active');
            });

            imageModal.addEventListener('click', (event) => {
                if (event.target === imageModal) { // Close only if clicking on the overlay itself, not the image
                    imageModal.classList.remove('active');
                }
            });


            // Evaluation Feedback Logic
            const correctAnswers = {
                q1: 'c',
                q2: 'd',
                q3: 'c',
                q4: 'c',
                q5: 'c',
                q6: 'c',
                q7: 'b',
                q8: 'd',
                q9: 'b',
                q10: 'c'
            };

            function getExplanation(questionName, correctOption) {
                switch (questionName) {
                    case 'q1':
                        return 'R es una herramienta poderosa para el an√°lisis de datos y la creaci√≥n de visualizaciones.';
                    case 'q2':
                        return 'El panel del Editor es donde escribes y organizas tu c√≥digo R.';
                    case 'q3':
                        return 'El tipo de dato `logical` se utiliza para representar valores booleanos (verdadero/falso).';
                    case 'q4':
                        return 'El operador `<-` es el est√°ndar y preferido para asignar valores a variables en R.';
                    case 'q5':
                        return 'Un vector es una secuencia de elementos del mismo tipo de dato.';
                    case 'q6':
                        return 'La funci√≥n `mutate()` se utiliza para a√±adir nuevas variables a un data.frame.';
                    case 'q7':
                        return 'El operador tuber√≠a `%>%` mejora la legibilidad y la eficiencia al encadenar m√∫ltiples operaciones.';
                    case 'q8':
                        return '`dplyr` es una librer√≠a fundamental de Tidyverse para la manipulaci√≥n de datos.';
                    case 'q9':
                        return 'Las funciones en R requieren argumentos de entrada, un cuerpo con la l√≥gica, y una salida definida.';
                    case 'q10':
                        return 'La librer√≠a `readr` es la recomendada para importar y exportar archivos de texto delimitado como CSV.';
                    default:
                        return '';
                }
            }

            function provideFeedback(questionName) {
                console.log(`Providing feedback for: ${questionName}`); // Added log
                const radios = document.querySelectorAll(`input[name="${questionName}"]`);
                const questionContainer = document.getElementById(`${questionName}-container`);
                const explanationContainer = document.getElementById(`${questionName}-explanation-container`);
                
                // Clear previous feedback for all options and explanation
                radios.forEach(radio => {
                    const feedbackSpan = document.getElementById(`${questionName}-${radio.value}-feedback`);
                    if (feedbackSpan) feedbackSpan.innerHTML = '';
                });
                explanationContainer.innerHTML = '';
                explanationContainer.className = 'mt-2'; // Reset classes

                let selectedValue = null;
                radios.forEach(radio => {
                    if (radio.checked) {
                        selectedValue = radio.value;
                    }
                });

                const correctAnswer = correctAnswers[questionName];

                radios.forEach(radio => {
                    const feedbackSpan = document.getElementById(`${questionName}-${radio.value}-feedback`);
                    if (radio.value === correctAnswer) {
                        feedbackSpan.innerHTML = '<i class="fas fa-check-circle text-green-500"></i>';
                    } else if (radio.checked && radio.value !== correctAnswer) {
                        feedbackSpan.innerHTML = '<i class="fas fa-times-circle text-red-500"></i>';
                    }
                });

                // Display explanation
                if (selectedValue !== null) {
                    const explanationText = getExplanation(questionName, correctAnswer);
                    explanationContainer.classList.add('p-3', 'rounded-lg', 'text-sm');

                    if (selectedValue === correctAnswer) {
                        explanationContainer.classList.add('bg-green-100', 'text-green-800');
                        explanationContainer.innerHTML = `¬°Correcto! ${explanationText}`;
                    } else {
                        explanationContainer.classList.add('bg-red-100', 'text-red-800');
                        explanationContainer.innerHTML = `¬°Incorrecto! La respuesta correcta era **${correctAnswer.toUpperCase()}**. ${explanationText}`;
                    }
                }
            }

            document.querySelectorAll('.evaluacion input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    provideFeedback(event.target.name);
                });
            });

        });
    </script>
</body>
</html>
